{"version":3,"sources":["markerwithlabel.js","angular-gettext.js","angular-growl.js","angular-dragdrop.js","iframeResizer.contentWindow.js"],"names":["inherits","childCtor","parentCtor","tempCtor","prototype","superClass_","constructor","MarkerLabel_","marker","crossURL","handCursorURL","this","marker_","handCursorURL_","labelDiv_","document","createElement","style","cssText","eventDiv_","setAttribute","crossDiv_","getSharedCross","MarkerWithLabel","opt_options","labelContent","labelAnchor","google","maps","Point","labelClass","labelStyle","labelInBackground","labelVisible","raiseOnDrag","clickable","draggable","optimized","crossImage","location","protocol","handCursor","label","Marker","apply","arguments","angular","module","constant","str","factory","gettextPlurals","$http","$cacheFactory","$interpolate","$rootScope","broadcastUpdated","$broadcast","catalog","noContext","test","isHTMLModified","element","html","prefixDebug","string","debug","currentLanguage","baseLanguage","debugPrefix","addTranslatedMarkers","showTranslatedMarkers","translatedMarkerPrefix","translatedMarkerSuffix","strings","cache","setCurrentLanguage","lang","getCurrentLanguage","setStrings","language","key","val","isString","isArray","obj","context","getStringForm","n","stringTable","contexts","plurals","getString","scope","getPlural","stringPlural","form","$count","loadRemote","url","method","success","data","directive","gettextCatalog","$parse","$animate","$compile","$window","assert","condition","missing","found","Error","trim","String","value","replace","msie","parseInt","exec","lowercase","navigator","userAgent","restrict","terminal","compile","attrs","translatePlural","translateN","msgid","translateContext","slice","post","update","translated","pluralScope","$new","countFn","oldContents","contents","length","linking","newWrapper","newContents","enter","leave","$watch","$on","filter","input","$stateful","langCode","templateUrl","reference","inline","limitMessages","controller","$scope","$timeout","growl","growlMessages","referenceId","initDirective","inlineMessage","isDefined","inlineMessages","directives","isUndefined","stopTimeoutClose","message","clickToClose","forEach","promises","promise","cancel","close","deleteMessage","alertClasses","alert-success","severity","alert-error","alert-danger","alert-info","alert-warning","icon","disableIcons","alert-dismissable","disableCloseButton","showCountDown","disableCountDown","ttl","wrapperClasses","classes","position","computeTitle","ret","error","info","warn","run","$templateCache","undefined","get","put","provider","_ttl","warning","_messagesKey","_messageTextKey","_messageTitleKey","_messageSeverityKey","_onlyUniqueMessages","_messageVariableKey","_referenceId","_inline","_position","_disableCloseButton","_disableIcons","_reverseOrder","_disableCountDown","_translateMessages","globalTimeToLive","k","hasOwnProperty","globalTranslateMessages","translateMessages","globalDisableCloseButton","globalDisableIcons","globalReversedOrder","reverseOrder","globalDisableCountDown","countDown","messageVariableKey","globalInlineMessages","globalPosition","messagesKey","messageTextKey","messageTitleKey","messageSeverityKey","onlyUniqueMessages","serverMessagesInterceptor","$q","checkResponse","response","addServerMessages","responseError","rejection","reject","$get","$sce","$filter","broadcastMessage","translate","translateMessage","text","variables","title","polation","addedMessage","addMessage","sendMessage","config","_config","destroy","setText","newText","trustAsHtml","onclose","onopen","general","toLowerCase","messages","i","onlyUnique","e","service","preLoad","preloadDirectives","directiveForRefId","refId","self","getAllMessages","destroyAllMessages","msgText","msg","getTrustedHtml","countdown","countdownFunction","push","diff","splice","unshift","bind","index","indexOf","window","$","jqyoui","draggableScope","droppableScope","callEventCallback","callbackName","event","ui","extract","atStartBracket","atEndBracket","lastIndexOf","args","substring","match","callback","map","split","item","objExtract","concat","invokeDrop","$draggable","$droppable","dragModelValue","dropModelValue","dragModel","dropModel","dragSettings","dropSettings","jqyoui_pos","dragItem","dropItem","$droppableDraggable","ngattr","$eval","find","attr","fixIndex","deepCopy","copy","animate","move","multiple","parent","startXY","css","left","top","display","mutateDraggable","mutateDroppable","onDrop","$fromEl","$toEl","toPos","duration","setTimeout","zIndex","fromPos","containment","displayProperty","hadNgHideCls","hasClass","is","stack","outerWidth","outerHeight","removeClass","visibility","z-index","addClass","dndDragItem","placeholder","isEmpty","equals","dndDropItem","$parent","settings","modelValue","applyFilter","dragModelValueFiltered","lookup","actualIndex","ngDragDropService","require","link","jqyouiOptions","updateDraggable","newValue","oldValue","disabled","start","helper","onStart","stop","onStop","drag","onDrag","on","priority","updateDroppable","droppable","over","onOver","out","onOut","drop","beforeDropPromise","beforeDrop","deferred","defer","resolve","then","ngModel","name","getAttribute","jQuery","OverlayView","div","crossDiv","marginLeft","marginTop","src","onAdd","cSavedZIndex","cLatOffset","cLngOffset","cIgnoreClick","cRaiseEnabled","cStartPosition","cStartCenter","me","cMouseIsDown","cDraggingLabel","cRaiseOffset","cDraggingCursor","cAbortEvent","preventDefault","cancelBubble","stopPropagation","cStopBounce","setAnimation","getPanes","overlayImage","appendChild","overlayMouseTarget","processed","listeners_","addDomListener","getDraggable","getClickable","cursor","trigger","getCursor","mEvent","getProjection","fromLatLngToDivPixel","getPosition","y","setPosition","fromDivPixelToLatLng","Animation","BOUNCE","setZIndex","latLng","addListener","getMap","LatLng","lat","lng","x","getZIndex","getCenter","keyCode","setCenter","setVisible","setTitle","setContent","setAnchor","setStyles","onRemove","parentNode","removeChild","removeListener","draw","content","nodeType","innerHTML","cloneNode","getTitle","className","setMandatoryStyles","overflow","opacity","MsFilter","anchor","yOffset","Math","round","zAdjust","getVisible","setMap","theMap","addEventListener","el","evt","func","attachEvent","formatLogMsg","msgID","myID","log","logging","console","init","readData","setMargin","setBodyStyle","bodyBackground","bodyPadding","injectClearFixIntoBodyElement","checkHeightMode","stopInfiniteResizingOfIFrame","setupPublicMethods","startEventListeners","inPageLinks","setupInPageLinks","sendSize","strBool","initMsg","substr","msgIdLen","bodyMargin","Number","calculateWidth","interval","publicMethods","autoResize","bodyMarginStr","heightCalcMode","tolerance","enable","chkCSS","body","documentElement","height","addTriggerEvent","options","eventName","eventType","eventNames","Array","initEventListeners","heightCalcModeDefault","getHeight","setupMutationObserver","clearFix","clear","getPagePosition","pageXOffset","scrollLeft","pageYOffset","scrollTop","getElementPosition","elPosition","getBoundingClientRect","pagePosition","findTarget","jumpToTarget","target","jumpPosition","hash","sendMsg","hashData","decodeURIComponent","getElementById","getElementsByName","checkLocationHash","href","bindAnchors","setupLink","linkClicked","call","querySelectorAll","bindLocationHash","initCheck","eventCancelTimer","enableInPageLinks","parentIFrame","getId","moveToAnchor","reset","resetIFrame","scrollTo","scrollToOffset","targetOrigin","JSON","stringify","setHeightCalculationMethod","heightCalculationMethod","setTargetOrigin","targetOriginDefault","size","customHeight","customWidth","valString","lockTrigger","initInterval","setInterval","abs","setupInjectElementLoadListners","mutations","addLoadListener","width","mutation","type","attributeName","images","image","createMutationObserver","querySelector","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observer","MutationObserver","observe","WebKitMutationObserver","getBodyOffsetHeight","getComputedBodyStyle","prop","convertUnitsToPxForIE8","PIXEL","base","runtimeStyle","currentStyle","pixelLeft","retVal","defaultView","getComputedStyle","offsetHeight","getBodyScrollHeight","scrollHeight","getDEOffsetHeight","getDEScrollHeight","getLowestElementHeight","allElements","allElementsLength","maxBottomVal","timer","Date","getTime","bottom","getAllHeights","getMaxHeight","max","getMinHeight","min","getBestHeight","getWidth","scrollWidth","triggerEvent","triggerEventDesc","recordTrigger","resetPage","resizeIFrame","currentHeight","currentWidth","isDoubleFiredEvent","triggerLocked","doubleEventList","isSizeChangeDetected","checkTolarance","a","b","isForceResizableEvent","isForceResizableHeightCalcMode","resetRequiredMethods","logIgnored","checkDownSizing","clearTimeout","triggerLockedTimer","triggerReset","hcm","sendToParent","postMessage","receiver","isMessageForUs","initFromParent","source","firstRun","initLock","resetFromParent","getMessageType","isMiddleTier","isInitMsg","true","false","resize","click","scroll","bodyScroll","documentElementScroll","offset","bodyOffset","documentElementOffset","grow","lowestElement"],"mappings":"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","file":"common.min.js","sourcesContent":["/**\n * @name MarkerWithLabel for V3\n * @version 1.1.9 [June 30, 2013]\n * @author Gary Little (inspired by code from Marc Ridey of Google).\n * @copyright Copyright 2012 Gary Little [gary at luxcentral.com]\n * @fileoverview MarkerWithLabel extends the Google Maps JavaScript API V3\n *  <code>google.maps.Marker</code> class.\n *  <p>\n *  MarkerWithLabel allows you to define markers with associated labels. As you would expect,\n *  if the marker is draggable, so too will be the label. In addition, a marker with a label\n *  responds to all mouse events in the same manner as a regular marker. It also fires mouse\n *  events and \"property changed\" events just as a regular marker would. Version 1.1 adds\n *  support for the raiseOnDrag feature introduced in API V3.3.\n *  <p>\n *  If you drag a marker by its label, you can cancel the drag and return the marker to its\n *  original position by pressing the <code>Esc</code> key. This doesn't work if you drag the marker\n *  itself because this feature is not (yet) supported in the <code>google.maps.Marker</code> class.\n */\n\n/*!\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*jslint browser:true */\n/*global document,google */\n\n/**\n * @param {Function} childCtor Child class.\n * @param {Function} parentCtor Parent class.\n */\nfunction inherits(childCtor, parentCtor) {\n  /** @constructor */\n  function tempCtor() {};\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  /** @override */\n  childCtor.prototype.constructor = childCtor;\n}\n\n/**\n * This constructor creates a label and associates it with a marker.\n * It is for the private use of the MarkerWithLabel class.\n * @constructor\n * @param {Marker} marker The marker with which the label is to be associated.\n * @param {string} crossURL The URL of the cross image =.\n * @param {string} handCursor The URL of the hand cursor.\n * @private\n */\nfunction MarkerLabel_(marker, crossURL, handCursorURL) {\n  this.marker_ = marker;\n  this.handCursorURL_ = marker.handCursorURL;\n\n  this.labelDiv_ = document.createElement(\"div\");\n  this.labelDiv_.style.cssText = \"position: absolute; overflow: hidden;\";\n\n  // Set up the DIV for handling mouse events in the label. This DIV forms a transparent veil\n  // in the \"overlayMouseTarget\" pane, a veil that covers just the label. This is done so that\n  // events can be captured even if the label is in the shadow of a google.maps.InfoWindow.\n  // Code is included here to ensure the veil is always exactly the same size as the label.\n  this.eventDiv_ = document.createElement(\"div\");\n  this.eventDiv_.style.cssText = this.labelDiv_.style.cssText;\n\n  // This is needed for proper behavior on MSIE:\n  this.eventDiv_.setAttribute(\"onselectstart\", \"return false;\");\n  this.eventDiv_.setAttribute(\"ondragstart\", \"return false;\");\n\n  // Get the DIV for the \"X\" to be displayed when the marker is raised.\n  this.crossDiv_ = MarkerLabel_.getSharedCross(crossURL);\n}\ninherits(MarkerLabel_, google.maps.OverlayView);\n\n/**\n * Returns the DIV for the cross used when dragging a marker when the\n * raiseOnDrag parameter set to true. One cross is shared with all markers.\n * @param {string} crossURL The URL of the cross image =.\n * @private\n */\nMarkerLabel_.getSharedCross = function (crossURL) {\n  var div;\n  if (typeof MarkerLabel_.getSharedCross.crossDiv === \"undefined\") {\n    div = document.createElement(\"img\");\n    div.style.cssText = \"position: absolute; z-index: 1000002; display: none;\";\n    // Hopefully Google never changes the standard \"X\" attributes:\n    div.style.marginLeft = \"-8px\";\n    div.style.marginTop = \"-9px\";\n    div.src = crossURL;\n    MarkerLabel_.getSharedCross.crossDiv = div;\n  }\n  return MarkerLabel_.getSharedCross.crossDiv;\n};\n\n/**\n * Adds the DIV representing the label to the DOM. This method is called\n * automatically when the marker's <code>setMap</code> method is called.\n * @private\n */\nMarkerLabel_.prototype.onAdd = function () {\n  var me = this;\n  var cMouseIsDown = false;\n  var cDraggingLabel = false;\n  var cSavedZIndex;\n  var cLatOffset, cLngOffset;\n  var cIgnoreClick;\n  var cRaiseEnabled;\n  var cStartPosition;\n  var cStartCenter;\n  // Constants:\n  var cRaiseOffset = 20;\n  var cDraggingCursor = \"url(\" + this.handCursorURL_ + \")\";\n\n  // Stops all processing of an event.\n  //\n  var cAbortEvent = function (e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    e.cancelBubble = true;\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n  };\n\n  var cStopBounce = function () {\n    me.marker_.setAnimation(null);\n  };\n\n  this.getPanes().overlayImage.appendChild(this.labelDiv_);\n  this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_);\n  // One cross is shared with all markers, so only add it once:\n  if (typeof MarkerLabel_.getSharedCross.processed === \"undefined\") {\n    this.getPanes().overlayImage.appendChild(this.crossDiv_);\n    MarkerLabel_.getSharedCross.processed = true;\n  }\n\n  this.listeners_ = [\n    google.maps.event.addDomListener(this.eventDiv_, \"mouseover\", function (e) {\n      if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n        this.style.cursor = \"pointer\";\n        google.maps.event.trigger(me.marker_, \"mouseover\", e);\n      }\n    }),\n    google.maps.event.addDomListener(this.eventDiv_, \"mouseout\", function (e) {\n      if ((me.marker_.getDraggable() || me.marker_.getClickable()) && !cDraggingLabel) {\n        this.style.cursor = me.marker_.getCursor();\n        google.maps.event.trigger(me.marker_, \"mouseout\", e);\n      }\n    }),\n    google.maps.event.addDomListener(this.eventDiv_, \"mousedown\", function (e) {\n      cDraggingLabel = false;\n      if (me.marker_.getDraggable()) {\n        cMouseIsDown = true;\n        this.style.cursor = cDraggingCursor;\n      }\n      if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n        google.maps.event.trigger(me.marker_, \"mousedown\", e);\n        cAbortEvent(e); // Prevent map pan when starting a drag on a label\n      }\n    }),\n    google.maps.event.addDomListener(document, \"mouseup\", function (mEvent) {\n      var position;\n      if (cMouseIsDown) {\n        cMouseIsDown = false;\n        me.eventDiv_.style.cursor = \"pointer\";\n        google.maps.event.trigger(me.marker_, \"mouseup\", mEvent);\n      }\n      if (cDraggingLabel) {\n        if (cRaiseEnabled) { // Lower the marker & label\n          position = me.getProjection().fromLatLngToDivPixel(me.marker_.getPosition());\n          position.y += cRaiseOffset;\n          me.marker_.setPosition(me.getProjection().fromDivPixelToLatLng(position));\n          // This is not the same bouncing style as when the marker portion is dragged,\n          // but it will have to do:\n          try { // Will fail if running Google Maps API earlier than V3.3\n            me.marker_.setAnimation(google.maps.Animation.BOUNCE);\n            setTimeout(cStopBounce, 1406);\n          } catch (e) {}\n        }\n        me.crossDiv_.style.display = \"none\";\n        me.marker_.setZIndex(cSavedZIndex);\n        cIgnoreClick = true; // Set flag to ignore the click event reported after a label drag\n        cDraggingLabel = false;\n        mEvent.latLng = me.marker_.getPosition();\n        google.maps.event.trigger(me.marker_, \"dragend\", mEvent);\n      }\n    }),\n    google.maps.event.addListener(me.marker_.getMap(), \"mousemove\", function (mEvent) {\n      var position;\n      if (cMouseIsDown) {\n        if (cDraggingLabel) {\n          // Change the reported location from the mouse position to the marker position:\n          mEvent.latLng = new google.maps.LatLng(mEvent.latLng.lat() - cLatOffset, mEvent.latLng.lng() - cLngOffset);\n          position = me.getProjection().fromLatLngToDivPixel(mEvent.latLng);\n          if (cRaiseEnabled) {\n            me.crossDiv_.style.left = position.x + \"px\";\n            me.crossDiv_.style.top = position.y + \"px\";\n            me.crossDiv_.style.display = \"\";\n            position.y -= cRaiseOffset;\n          }\n          me.marker_.setPosition(me.getProjection().fromDivPixelToLatLng(position));\n          if (cRaiseEnabled) { // Don't raise the veil; this hack needed to make MSIE act properly\n            me.eventDiv_.style.top = (position.y + cRaiseOffset) + \"px\";\n          }\n          google.maps.event.trigger(me.marker_, \"drag\", mEvent);\n        } else {\n          // Calculate offsets from the click point to the marker position:\n          cLatOffset = mEvent.latLng.lat() - me.marker_.getPosition().lat();\n          cLngOffset = mEvent.latLng.lng() - me.marker_.getPosition().lng();\n          cSavedZIndex = me.marker_.getZIndex();\n          cStartPosition = me.marker_.getPosition();\n          cStartCenter = me.marker_.getMap().getCenter();\n          cRaiseEnabled = me.marker_.get(\"raiseOnDrag\");\n          cDraggingLabel = true;\n          me.marker_.setZIndex(1000000); // Moves the marker & label to the foreground during a drag\n          mEvent.latLng = me.marker_.getPosition();\n          google.maps.event.trigger(me.marker_, \"dragstart\", mEvent);\n        }\n      }\n    }),\n    google.maps.event.addDomListener(document, \"keydown\", function (e) {\n      if (cDraggingLabel) {\n        if (e.keyCode === 27) { // Esc key\n          cRaiseEnabled = false;\n          me.marker_.setPosition(cStartPosition);\n          me.marker_.getMap().setCenter(cStartCenter);\n          google.maps.event.trigger(document, \"mouseup\", e);\n        }\n      }\n    }),\n    google.maps.event.addDomListener(this.eventDiv_, \"click\", function (e) {\n      if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n        if (cIgnoreClick) { // Ignore the click reported when a label drag ends\n          cIgnoreClick = false;\n        } else {\n          google.maps.event.trigger(me.marker_, \"click\", e);\n          cAbortEvent(e); // Prevent click from being passed on to map\n        }\n      }\n    }),\n    google.maps.event.addDomListener(this.eventDiv_, \"dblclick\", function (e) {\n      if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n        google.maps.event.trigger(me.marker_, \"dblclick\", e);\n        cAbortEvent(e); // Prevent map zoom when double-clicking on a label\n      }\n    }),\n    google.maps.event.addListener(this.marker_, \"dragstart\", function (mEvent) {\n      if (!cDraggingLabel) {\n        cRaiseEnabled = this.get(\"raiseOnDrag\");\n      }\n    }),\n    google.maps.event.addListener(this.marker_, \"drag\", function (mEvent) {\n      if (!cDraggingLabel) {\n        if (cRaiseEnabled) {\n          me.setPosition(cRaiseOffset);\n          // During a drag, the marker's z-index is temporarily set to 1000000 to\n          // ensure it appears above all other markers. Also set the label's z-index\n          // to 1000000 (plus or minus 1 depending on whether the label is supposed\n          // to be above or below the marker).\n          me.labelDiv_.style.zIndex = 1000000 + (this.get(\"labelInBackground\") ? -1 : +1);\n        }\n      }\n    }),\n    google.maps.event.addListener(this.marker_, \"dragend\", function (mEvent) {\n      if (!cDraggingLabel) {\n        if (cRaiseEnabled) {\n          me.setPosition(0); // Also restores z-index of label\n        }\n      }\n    }),\n    google.maps.event.addListener(this.marker_, \"position_changed\", function () {\n      me.setPosition();\n    }),\n    google.maps.event.addListener(this.marker_, \"zindex_changed\", function () {\n      me.setZIndex();\n    }),\n    google.maps.event.addListener(this.marker_, \"visible_changed\", function () {\n      me.setVisible();\n    }),\n    google.maps.event.addListener(this.marker_, \"labelvisible_changed\", function () {\n      me.setVisible();\n    }),\n    google.maps.event.addListener(this.marker_, \"title_changed\", function () {\n      me.setTitle();\n    }),\n    google.maps.event.addListener(this.marker_, \"labelcontent_changed\", function () {\n      me.setContent();\n    }),\n    google.maps.event.addListener(this.marker_, \"labelanchor_changed\", function () {\n      me.setAnchor();\n    }),\n    google.maps.event.addListener(this.marker_, \"labelclass_changed\", function () {\n      me.setStyles();\n    }),\n    google.maps.event.addListener(this.marker_, \"labelstyle_changed\", function () {\n      me.setStyles();\n    })\n  ];\n};\n\n/**\n * Removes the DIV for the label from the DOM. It also removes all event handlers.\n * This method is called automatically when the marker's <code>setMap(null)</code>\n * method is called.\n * @private\n */\nMarkerLabel_.prototype.onRemove = function () {\n  var i;\n  this.labelDiv_.parentNode.removeChild(this.labelDiv_);\n  this.eventDiv_.parentNode.removeChild(this.eventDiv_);\n\n  // Remove event listeners:\n  for (i = 0; i < this.listeners_.length; i++) {\n    google.maps.event.removeListener(this.listeners_[i]);\n  }\n};\n\n/**\n * Draws the label on the map.\n * @private\n */\nMarkerLabel_.prototype.draw = function () {\n  this.setContent();\n  this.setTitle();\n  this.setStyles();\n};\n\n/**\n * Sets the content of the label.\n * The content can be plain text or an HTML DOM node.\n * @private\n */\nMarkerLabel_.prototype.setContent = function () {\n  var content = this.marker_.get(\"labelContent\");\n  if (typeof content.nodeType === \"undefined\") {\n    this.labelDiv_.innerHTML = content;\n    this.eventDiv_.innerHTML = this.labelDiv_.innerHTML;\n  } else {\n    this.labelDiv_.innerHTML = \"\"; // Remove current content\n    this.labelDiv_.appendChild(content);\n    content = content.cloneNode(true);\n    this.eventDiv_.appendChild(content);\n  }\n};\n\n/**\n * Sets the content of the tool tip for the label. It is\n * always set to be the same as for the marker itself.\n * @private\n */\nMarkerLabel_.prototype.setTitle = function () {\n  this.eventDiv_.title = this.marker_.getTitle() || \"\";\n};\n\n/**\n * Sets the style of the label by setting the style sheet and applying\n * other specific styles requested.\n * @private\n */\nMarkerLabel_.prototype.setStyles = function () {\n  var i, labelStyle;\n\n  // Apply style values from the style sheet defined in the labelClass parameter:\n  this.labelDiv_.className = this.marker_.get(\"labelClass\");\n  this.eventDiv_.className = this.labelDiv_.className;\n\n  // Clear existing inline style values:\n  this.labelDiv_.style.cssText = \"\";\n  this.eventDiv_.style.cssText = \"\";\n  // Apply style values defined in the labelStyle parameter:\n  labelStyle = this.marker_.get(\"labelStyle\");\n  for (i in labelStyle) {\n    if (labelStyle.hasOwnProperty(i)) {\n      this.labelDiv_.style[i] = labelStyle[i];\n      this.eventDiv_.style[i] = labelStyle[i];\n    }\n  }\n  this.setMandatoryStyles();\n};\n\n/**\n * Sets the mandatory styles to the DIV representing the label as well as to the\n * associated event DIV. This includes setting the DIV position, z-index, and visibility.\n * @private\n */\nMarkerLabel_.prototype.setMandatoryStyles = function () {\n  this.labelDiv_.style.position = \"absolute\";\n  this.labelDiv_.style.overflow = \"hidden\";\n  // Make sure the opacity setting causes the desired effect on MSIE:\n  if (typeof this.labelDiv_.style.opacity !== \"undefined\" && this.labelDiv_.style.opacity !== \"\") {\n    this.labelDiv_.style.MsFilter = \"\\\"progid:DXImageTransform.Microsoft.Alpha(opacity=\" + (this.labelDiv_.style.opacity * 100) + \")\\\"\";\n    this.labelDiv_.style.filter = \"alpha(opacity=\" + (this.labelDiv_.style.opacity * 100) + \")\";\n  }\n\n  this.eventDiv_.style.position = this.labelDiv_.style.position;\n  this.eventDiv_.style.overflow = this.labelDiv_.style.overflow;\n  this.eventDiv_.style.opacity = 0.01; // Don't use 0; DIV won't be clickable on MSIE\n  this.eventDiv_.style.MsFilter = \"\\\"progid:DXImageTransform.Microsoft.Alpha(opacity=1)\\\"\";\n  this.eventDiv_.style.filter = \"alpha(opacity=1)\"; // For MSIE\n\n  this.setAnchor();\n  this.setPosition(); // This also updates z-index, if necessary.\n};\n\n/**\n * Sets the anchor point of the label.\n * @private\n */\nMarkerLabel_.prototype.setAnchor = function () {\n  var anchor = this.marker_.get(\"labelAnchor\");\n  this.labelDiv_.style.marginLeft = -anchor.x + \"px\";\n  this.labelDiv_.style.marginTop = -anchor.y + \"px\";\n  this.eventDiv_.style.marginLeft = -anchor.x + \"px\";\n  this.eventDiv_.style.marginTop = -anchor.y + \"px\";\n};\n\n/**\n * Sets the position of the label. The z-index is also updated, if necessary.\n * @private\n */\nMarkerLabel_.prototype.setPosition = function (yOffset) {\n  var position = this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());\n  if (typeof yOffset === \"undefined\") {\n    yOffset = 0;\n  }\n  this.labelDiv_.style.left = Math.round(position.x) + \"px\";\n  this.labelDiv_.style.top = Math.round(position.y - yOffset) + \"px\";\n  this.eventDiv_.style.left = this.labelDiv_.style.left;\n  this.eventDiv_.style.top = this.labelDiv_.style.top;\n\n  this.setZIndex();\n};\n\n/**\n * Sets the z-index of the label. If the marker's z-index property has not been defined, the z-index\n * of the label is set to the vertical coordinate of the label. This is in keeping with the default\n * stacking order for Google Maps: markers to the south are in front of markers to the north.\n * @private\n */\nMarkerLabel_.prototype.setZIndex = function () {\n  var zAdjust = (this.marker_.get(\"labelInBackground\") ? -1 : +1);\n  if (typeof this.marker_.getZIndex() === \"undefined\") {\n    this.labelDiv_.style.zIndex = parseInt(this.labelDiv_.style.top, 10) + zAdjust;\n    this.eventDiv_.style.zIndex = this.labelDiv_.style.zIndex;\n  } else {\n    this.labelDiv_.style.zIndex = this.marker_.getZIndex() + zAdjust;\n    this.eventDiv_.style.zIndex = this.labelDiv_.style.zIndex;\n  }\n};\n\n/**\n * Sets the visibility of the label. The label is visible only if the marker itself is\n * visible (i.e., its visible property is true) and the labelVisible property is true.\n * @private\n */\nMarkerLabel_.prototype.setVisible = function () {\n  if (this.marker_.get(\"labelVisible\")) {\n    this.labelDiv_.style.display = this.marker_.getVisible() ? \"block\" : \"none\";\n  } else {\n    this.labelDiv_.style.display = \"none\";\n  }\n  this.eventDiv_.style.display = this.labelDiv_.style.display;\n};\n\n/**\n * @name MarkerWithLabelOptions\n * @class This class represents the optional parameter passed to the {@link MarkerWithLabel} constructor.\n *  The properties available are the same as for <code>google.maps.Marker</code> with the addition\n *  of the properties listed below. To change any of these additional properties after the labeled\n *  marker has been created, call <code>google.maps.Marker.set(propertyName, propertyValue)</code>.\n *  <p>\n *  When any of these properties changes, a property changed event is fired. The names of these\n *  events are derived from the name of the property and are of the form <code>propertyname_changed</code>.\n *  For example, if the content of the label changes, a <code>labelcontent_changed</code> event\n *  is fired.\n *  <p>\n * @property {string|Node} [labelContent] The content of the label (plain text or an HTML DOM node).\n * @property {Point} [labelAnchor] By default, a label is drawn with its anchor point at (0,0) so\n *  that its top left corner is positioned at the anchor point of the associated marker. Use this\n *  property to change the anchor point of the label. For example, to center a 50px-wide label\n *  beneath a marker, specify a <code>labelAnchor</code> of <code>google.maps.Point(25, 0)</code>.\n *  (Note: x-values increase to the right and y-values increase to the top.)\n * @property {string} [labelClass] The name of the CSS class defining the styles for the label.\n *  Note that style values for <code>position</code>, <code>overflow</code>, <code>top</code>,\n *  <code>left</code>, <code>zIndex</code>, <code>display</code>, <code>marginLeft</code>, and\n *  <code>marginTop</code> are ignored; these styles are for internal use only.\n * @property {Object} [labelStyle] An object literal whose properties define specific CSS\n *  style values to be applied to the label. Style values defined here override those that may\n *  be defined in the <code>labelClass</code> style sheet. If this property is changed after the\n *  label has been created, all previously set styles (except those defined in the style sheet)\n *  are removed from the label before the new style values are applied.\n *  Note that style values for <code>position</code>, <code>overflow</code>, <code>top</code>,\n *  <code>left</code>, <code>zIndex</code>, <code>display</code>, <code>marginLeft</code>, and\n *  <code>marginTop</code> are ignored; these styles are for internal use only.\n * @property {boolean} [labelInBackground] A flag indicating whether a label that overlaps its\n *  associated marker should appear in the background (i.e., in a plane below the marker).\n *  The default is <code>false</code>, which causes the label to appear in the foreground.\n * @property {boolean} [labelVisible] A flag indicating whether the label is to be visible.\n *  The default is <code>true</code>. Note that even if <code>labelVisible</code> is\n *  <code>true</code>, the label will <i>not</i> be visible unless the associated marker is also\n *  visible (i.e., unless the marker's <code>visible</code> property is <code>true</code>).\n * @property {boolean} [raiseOnDrag] A flag indicating whether the label and marker are to be\n *  raised when the marker is dragged. The default is <code>true</code>. If a draggable marker is\n *  being created and a version of Google Maps API earlier than V3.3 is being used, this property\n *  must be set to <code>false</code>.\n * @property {boolean} [optimized] A flag indicating whether rendering is to be optimized for the\n *  marker. <b>Important: The optimized rendering technique is not supported by MarkerWithLabel,\n *  so the value of this parameter is always forced to <code>false</code>.\n * @property {string} [crossImage=\"http://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png\"]\n *  The URL of the cross image to be displayed while dragging a marker.\n * @property {string} [handCursor=\"http://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur\"]\n *  The URL of the cursor to be displayed while dragging a marker.\n */\n/**\n * Creates a MarkerWithLabel with the options specified in {@link MarkerWithLabelOptions}.\n * @constructor\n * @param {MarkerWithLabelOptions} [opt_options] The optional parameters.\n */\nfunction MarkerWithLabel(opt_options) {\n  opt_options = opt_options || {};\n  opt_options.labelContent = opt_options.labelContent || \"\";\n  opt_options.labelAnchor = opt_options.labelAnchor || new google.maps.Point(0, 0);\n  opt_options.labelClass = opt_options.labelClass || \"markerLabels\";\n  opt_options.labelStyle = opt_options.labelStyle || {};\n  opt_options.labelInBackground = opt_options.labelInBackground || false;\n  if (typeof opt_options.labelVisible === \"undefined\") {\n    opt_options.labelVisible = true;\n  }\n  if (typeof opt_options.raiseOnDrag === \"undefined\") {\n    opt_options.raiseOnDrag = true;\n  }\n  if (typeof opt_options.clickable === \"undefined\") {\n    opt_options.clickable = true;\n  }\n  if (typeof opt_options.draggable === \"undefined\") {\n    opt_options.draggable = false;\n  }\n  if (typeof opt_options.optimized === \"undefined\") {\n    opt_options.optimized = false;\n  }\n  opt_options.crossImage = opt_options.crossImage || \"http\" + (document.location.protocol === \"https:\" ? \"s\" : \"\") + \"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png\";\n  opt_options.handCursor = opt_options.handCursor || \"http\" + (document.location.protocol === \"https:\" ? \"s\" : \"\") + \"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur\";\n  opt_options.optimized = false; // Optimized rendering is not supported\n\n  this.label = new MarkerLabel_(this, opt_options.crossImage, opt_options.handCursor); // Bind the label to the marker\n\n  // Call the parent constructor. It calls Marker.setValues to initialize, so all\n  // the new parameters are conveniently saved and can be accessed with get/set.\n  // Marker.set triggers a property changed event (called \"propertyname_changed\")\n  // that the marker label listens for in order to react to state changes.\n  google.maps.Marker.apply(this, arguments);\n}\ninherits(MarkerWithLabel, google.maps.Marker);\n\n/**\n * Overrides the standard Marker setMap function.\n * @param {Map} theMap The map to which the marker is to be added.\n * @private\n */\nMarkerWithLabel.prototype.setMap = function (theMap) {\n\n  // Call the inherited function...\n  google.maps.Marker.prototype.setMap.apply(this, arguments);\n\n  // ... then deal with the label:\n  this.label.setMap(theMap);\n};\n","angular.module('gettext', []);\n\nangular.module('gettext').constant('gettext', function (str) {\n    /*\n     * Does nothing, simply returns the input string.\n     *\n     * This function serves as a marker for `grunt-angular-gettext` to know that\n     * this string should be extracted for translations.\n     */\n    return str;\n});\n\nangular.module('gettext').factory('gettextCatalog', [\"gettextPlurals\", \"$http\", \"$cacheFactory\", \"$interpolate\", \"$rootScope\", function (gettextPlurals, $http, $cacheFactory, $interpolate, $rootScope) {\n    var catalog;\n    var noContext = '$$noContext';\n\n    // IE8 returns UPPER CASE tags, even though the source is lower case.\n    // This can causes the (key) string in the DOM to have a different case to\n    // the string in the `po` files.\n    // IE9, IE10 and IE11 reorders the attributes of tags.\n    var test = '<span id=\"test\" title=\"test\" class=\"tested\">test</span>';\n    var isHTMLModified = (angular.element('<span>' + test + '</span>').html() !== test);\n\n    var prefixDebug = function (string) {\n        if (catalog.debug && catalog.currentLanguage !== catalog.baseLanguage) {\n            return catalog.debugPrefix + string;\n        } else {\n            return string;\n        }\n    };\n\n    var addTranslatedMarkers = function (string) {\n        if (catalog.showTranslatedMarkers) {\n            return catalog.translatedMarkerPrefix + string + catalog.translatedMarkerSuffix;\n        } else {\n            return string;\n        }\n    };\n\n    function broadcastUpdated() {\n        $rootScope.$broadcast('gettextLanguageChanged');\n    }\n\n    catalog = {\n        debug: false,\n        debugPrefix: '[MISSING]: ',\n        showTranslatedMarkers: false,\n        translatedMarkerPrefix: '[',\n        translatedMarkerSuffix: ']',\n        strings: {},\n        baseLanguage: 'en',\n        currentLanguage: 'en',\n        cache: $cacheFactory('strings'),\n\n        setCurrentLanguage: function (lang) {\n            this.currentLanguage = lang;\n            broadcastUpdated();\n        },\n\n        getCurrentLanguage: function () {\n            return this.currentLanguage;\n        },\n\n        setStrings: function (language, strings) {\n            if (!this.strings[language]) {\n                this.strings[language] = {};\n            }\n\n            for (var key in strings) {\n                var val = strings[key];\n\n                if (isHTMLModified) {\n                    // Use the DOM engine to render any HTML in the key (#131).\n                    key = angular.element('<span>' + key + '</span>').html();\n                }\n\n                if (angular.isString(val) || angular.isArray(val)) {\n                    // No context, wrap it in $$noContext.\n                    var obj = {};\n                    obj[noContext] = val;\n                    val = obj;\n                }\n\n                // Expand single strings for each context.\n                for (var context in val) {\n                    var str = val[context];\n                    val[context] = angular.isArray(str) ? str : [str];\n                }\n                this.strings[language][key] = val;\n            }\n\n            broadcastUpdated();\n        },\n\n        getStringForm: function (string, n, context) {\n            var stringTable = this.strings[this.currentLanguage] || {};\n            var contexts = stringTable[string] || {};\n            var plurals = contexts[context || noContext] || [];\n            return plurals[n];\n        },\n\n        getString: function (string, scope, context) {\n            string = this.getStringForm(string, 0, context) || prefixDebug(string);\n            string = scope ? $interpolate(string)(scope) : string;\n            return addTranslatedMarkers(string);\n        },\n\n        getPlural: function (n, string, stringPlural, scope, context) {\n            var form = gettextPlurals(this.currentLanguage, n);\n            string = this.getStringForm(string, form, context) || prefixDebug(n === 1 ? string : stringPlural);\n            if (scope) {\n                scope.$count = n;\n                string = $interpolate(string)(scope);\n            }\n            return addTranslatedMarkers(string);\n        },\n\n        loadRemote: function (url) {\n            return $http({\n                method: 'GET',\n                url: url,\n                cache: catalog.cache\n            }).success(function (data) {\n                for (var lang in data) {\n                    catalog.setStrings(lang, data[lang]);\n                }\n            });\n        }\n    };\n\n    return catalog;\n}]);\n\nangular.module('gettext').directive('translate', [\"gettextCatalog\", \"$parse\", \"$animate\", \"$compile\", \"$window\", function (gettextCatalog, $parse, $animate, $compile, $window) {\n    // Trim polyfill for old browsers (instead of jQuery)\n    // Based on AngularJS-v1.2.2 (angular.js#620)\n    var trim = (function () {\n        if (!String.prototype.trim) {\n            return function (value) {\n                return (typeof value === 'string') ? value.replace(/^\\s*/, '').replace(/\\s*$/, '') : value;\n            };\n        }\n        return function (value) {\n            return (typeof value === 'string') ? value.trim() : value;\n        };\n    })();\n\n    function assert(condition, missing, found) {\n        if (!condition) {\n            throw new Error('You should add a ' + missing + ' attribute whenever you add a ' + found + ' attribute.');\n        }\n    }\n\n    var msie = parseInt((/msie (\\d+)/.exec(angular.lowercase($window.navigator.userAgent)) || [])[1], 10);\n\n    return {\n        restrict: 'AE',\n        terminal: true,\n        compile: function compile(element, attrs) {\n            // Validate attributes\n            assert(!attrs.translatePlural || attrs.translateN, 'translate-n', 'translate-plural');\n            assert(!attrs.translateN || attrs.translatePlural, 'translate-plural', 'translate-n');\n\n            var msgid = trim(element.html());\n            var translatePlural = attrs.translatePlural;\n            var translateContext = attrs.translateContext;\n\n            if (msie <= 8) {\n                // Workaround fix relating to angular adding a comment node to\n                // anchors. angular/angular.js/#1949 / angular/angular.js/#2013\n                if (msgid.slice(-13) === '<!--IE fix-->') {\n                    msgid = msgid.slice(0, -13);\n                }\n            }\n\n            return {\n                post: function (scope, element, attrs) {\n                    var countFn = $parse(attrs.translateN);\n                    var pluralScope = null;\n                    var linking = true;\n\n                    function update() {\n                        // Fetch correct translated string.\n                        var translated;\n                        if (translatePlural) {\n                            scope = pluralScope || (pluralScope = scope.$new());\n                            scope.$count = countFn(scope);\n                            translated = gettextCatalog.getPlural(scope.$count, msgid, translatePlural, null, translateContext);\n                        } else {\n                            translated = gettextCatalog.getString(msgid,  null, translateContext);\n                        }\n\n                        var oldContents = element.contents();\n\n                        if (oldContents.length === 0){\n                            return;\n                        }\n\n                        // Avoid redundant swaps\n                        if (translated === trim(oldContents.html())){\n                            // Take care of unlinked content\n                            if (linking){\n                                $compile(oldContents)(scope);\n                            }\n                            return;\n                        }\n\n                        // Swap in the translation\n                        var newWrapper = angular.element('<span>' + translated + '</span>');\n                        $compile(newWrapper.contents())(scope);\n                        var newContents = newWrapper.contents();\n\n                        $animate.enter(newContents, element);\n                        $animate.leave(oldContents);\n                    }\n\n                    if (attrs.translateN) {\n                        scope.$watch(attrs.translateN, update);\n                    }\n\n                    scope.$on('gettextLanguageChanged', update);\n\n                    update();\n                    linking = false;\n                }\n            };\n        }\n    };\n}]);\n\nangular.module('gettext').filter('translate', [\"gettextCatalog\", function (gettextCatalog) {\n    function filter(input, context) {\n        return gettextCatalog.getString(input, null, context);\n    }\n    filter.$stateful = true;\n    return filter;\n}]);\n\n// Do not edit this file, it is autogenerated using genplurals.py!\nangular.module(\"gettext\").factory(\"gettextPlurals\", function () {\n    return function (langCode, n) {\n        switch (langCode) {\n            case \"ay\":  // Aymar\n            case \"bo\":  // Tibetan\n            case \"cgg\": // Chiga\n            case \"dz\":  // Dzongkha\n            case \"fa\":  // Persian\n            case \"id\":  // Indonesian\n            case \"ja\":  // Japanese\n            case \"jbo\": // Lojban\n            case \"ka\":  // Georgian\n            case \"kk\":  // Kazakh\n            case \"km\":  // Khmer\n            case \"ko\":  // Korean\n            case \"ky\":  // Kyrgyz\n            case \"lo\":  // Lao\n            case \"ms\":  // Malay\n            case \"my\":  // Burmese\n            case \"sah\": // Yakut\n            case \"su\":  // Sundanese\n            case \"th\":  // Thai\n            case \"tt\":  // Tatar\n            case \"ug\":  // Uyghur\n            case \"vi\":  // Vietnamese\n            case \"wo\":  // Wolof\n            case \"zh\":  // Chinese\n                // 1 form\n                return 0;\n            case \"is\":  // Icelandic\n                // 2 forms\n                return (n%10!=1 || n%100==11) ? 1 : 0;\n            case \"jv\":  // Javanese\n                // 2 forms\n                return n!=0 ? 1 : 0;\n            case \"mk\":  // Macedonian\n                // 2 forms\n                return n==1 || n%10==1 ? 0 : 1;\n            case \"ach\": // Acholi\n            case \"ak\":  // Akan\n            case \"am\":  // Amharic\n            case \"arn\": // Mapudungun\n            case \"br\":  // Breton\n            case \"fil\": // Filipino\n            case \"fr\":  // French\n            case \"gun\": // Gun\n            case \"ln\":  // Lingala\n            case \"mfe\": // Mauritian Creole\n            case \"mg\":  // Malagasy\n            case \"mi\":  // Maori\n            case \"oc\":  // Occitan\n            case \"pt_BR\":  // Brazilian Portuguese\n            case \"tg\":  // Tajik\n            case \"ti\":  // Tigrinya\n            case \"tr\":  // Turkish\n            case \"uz\":  // Uzbek\n            case \"wa\":  // Walloon\n            case \"zh\":  // Chinese\n                // 2 forms\n                return n>1 ? 1 : 0;\n            case \"lv\":  // Latvian\n                // 3 forms\n                return (n%10==1 && n%100!=11 ? 0 : n != 0 ? 1 : 2);\n            case \"lt\":  // Lithuanian\n                // 3 forms\n                return (n%10==1 && n%100!=11 ? 0 : n%10>=2 && (n%100<10 || n%100>=20) ? 1 : 2);\n            case \"be\":  // Belarusian\n            case \"bs\":  // Bosnian\n            case \"hr\":  // Croatian\n            case \"ru\":  // Russian\n            case \"sr\":  // Serbian\n            case \"uk\":  // Ukrainian\n                // 3 forms\n                return (n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n            case \"mnk\": // Mandinka\n                // 3 forms\n                return (n==0 ? 0 : n==1 ? 1 : 2);\n            case \"ro\":  // Romanian\n                // 3 forms\n                return (n==1 ? 0 : (n==0 || (n%100 > 0 && n%100 < 20)) ? 1 : 2);\n            case \"pl\":  // Polish\n                // 3 forms\n                return (n==1 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n            case \"cs\":  // Czech\n            case \"sk\":  // Slovak\n                // 3 forms\n                return (n==1) ? 0 : (n>=2 && n<=4) ? 1 : 2;\n            case \"sl\":  // Slovenian\n                // 4 forms\n                return (n%100==1 ? 1 : n%100==2 ? 2 : n%100==3 || n%100==4 ? 3 : 0);\n            case \"mt\":  // Maltese\n                // 4 forms\n                return (n==1 ? 0 : n==0 || ( n%100>1 && n%100<11) ? 1 : (n%100>10 && n%100<20 ) ? 2 : 3);\n            case \"gd\":  // Scottish Gaelic\n                // 4 forms\n                return (n==1 || n==11) ? 0 : (n==2 || n==12) ? 1 : (n > 2 && n < 20) ? 2 : 3;\n            case \"cy\":  // Welsh\n                // 4 forms\n                return (n==1) ? 0 : (n==2) ? 1 : (n != 8 && n != 11) ? 2 : 3;\n            case \"kw\":  // Cornish\n                // 4 forms\n                return (n==1) ? 0 : (n==2) ? 1 : (n == 3) ? 2 : 3;\n            case \"ga\":  // Irish\n                // 5 forms\n                return n==1 ? 0 : n==2 ? 1 : n<7 ? 2 : n<11 ? 3 : 4;\n            case \"ar\":  // Arabic\n                // 6 forms\n                return (n==0 ? 0 : n==1 ? 1 : n==2 ? 2 : n%100>=3 && n%100<=10 ? 3 : n%100>=11 ? 4 : 5);\n            default: // Everything else\n                return n != 1 ? 1 : 0;\n        }\n    }\n});\n","/**\n * angular-growl-v2 - v0.7.4 - 2015-06-17\n * http://janstevens.github.io/angular-growl-2\n * Copyright (c) 2015 Marco Rinck,Jan Stevens; Licensed MIT\n */\nangular.module('angular-growl', []);\nangular.module('angular-growl').directive('growl', [function () {\n    'use strict';\n    return {\n      restrict: 'A',\n      templateUrl: 'templates/growl/growl.html',\n      replace: false,\n      scope: {\n        reference: '@',\n        inline: '=',\n        limitMessages: '='\n      },\n      controller: [\n        '$scope',\n        '$timeout',\n        'growl',\n        'growlMessages',\n        function ($scope, $timeout, growl, growlMessages) {\n          $scope.referenceId = $scope.reference || 0;\n          growlMessages.initDirective($scope.referenceId, $scope.limitMessages);\n          $scope.growlMessages = growlMessages;\n          $scope.inlineMessage = angular.isDefined($scope.inline) ? $scope.inline : growl.inlineMessages();\n          $scope.$watch('limitMessages', function (limitMessages) {\n            var directive = growlMessages.directives[$scope.referenceId];\n            if (!angular.isUndefined(limitMessages) && !angular.isUndefined(directive)) {\n              directive.limitMessages = limitMessages;\n            }\n          });\n          $scope.stopTimeoutClose = function (message) {\n            if (!message.clickToClose) {\n              angular.forEach(message.promises, function (promise) {\n                $timeout.cancel(promise);\n              });\n              if (message.close) {\n                growlMessages.deleteMessage(message);\n              } else {\n                message.close = true;\n              }\n            }\n          };\n          $scope.alertClasses = function (message) {\n            return {\n              'alert-success': message.severity === 'success',\n              'alert-error': message.severity === 'error',\n              'alert-danger': message.severity === 'error',\n              'alert-info': message.severity === 'info',\n              'alert-warning': message.severity === 'warning',\n              'icon': message.disableIcons === false,\n              'alert-dismissable': !message.disableCloseButton\n            };\n          };\n          $scope.showCountDown = function (message) {\n            return !message.disableCountDown && message.ttl > 0;\n          };\n          $scope.wrapperClasses = function () {\n            var classes = {};\n            classes['growl-fixed'] = !$scope.inlineMessage;\n            classes[growl.position()] = true;\n            return classes;\n          };\n          $scope.computeTitle = function (message) {\n            var ret = {\n                'success': 'Success',\n                'error': 'Error',\n                'info': 'Information',\n                'warn': 'Warning'\n              };\n            return ret[message.severity];\n          };\n        }\n      ]\n    };\n  }]);\nangular.module('angular-growl').run([\n  '$templateCache',\n  function ($templateCache) {\n    'use strict';\n    if ($templateCache.get('templates/growl/growl.html') === undefined) {\n      $templateCache.put('templates/growl/growl.html', '<div class=\"growl-container\" ng-class=\"wrapperClasses()\">' + '<div class=\"growl-item alert\" ng-repeat=\"message in growlMessages.directives[referenceId].messages\" ng-class=\"alertClasses(message)\" ng-click=\"stopTimeoutClose(message)\">' + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\" ng-click=\"growlMessages.deleteMessage(message)\" ng-show=\"!message.disableCloseButton\">&times;</button>' + '<button type=\"button\" class=\"close\" aria-hidden=\"true\" ng-show=\"showCountDown(message)\">{{message.countdown}}</button>' + '<h4 class=\"growl-title\" ng-show=\"message.title\" ng-bind=\"message.title\"></h4>' + '<div class=\"growl-message\" ng-bind-html=\"message.text\"></div>' + '</div>' + '</div>');\n    }\n  }\n]);\nangular.module('angular-growl').provider('growl', function () {\n  'use strict';\n  var _ttl = {\n      success: null,\n      error: null,\n      warning: null,\n      info: null\n    }, _messagesKey = 'messages', _messageTextKey = 'text', _messageTitleKey = 'title', _messageSeverityKey = 'severity', _onlyUniqueMessages = true, _messageVariableKey = 'variables', _referenceId = 0, _inline = false, _position = 'top-right', _disableCloseButton = false, _disableIcons = false, _reverseOrder = false, _disableCountDown = false, _translateMessages = true;\n  this.globalTimeToLive = function (ttl) {\n    if (typeof ttl === 'object') {\n      for (var k in ttl) {\n        if (ttl.hasOwnProperty(k)) {\n          _ttl[k] = ttl[k];\n        }\n      }\n    } else {\n      for (var severity in _ttl) {\n        if (_ttl.hasOwnProperty(severity)) {\n          _ttl[severity] = ttl;\n        }\n      }\n    }\n    return this;\n  };\n  this.globalTranslateMessages = function (translateMessages) {\n    _translateMessages = translateMessages;\n    return this;\n  };\n  this.globalDisableCloseButton = function (disableCloseButton) {\n    _disableCloseButton = disableCloseButton;\n    return this;\n  };\n  this.globalDisableIcons = function (disableIcons) {\n    _disableIcons = disableIcons;\n    return this;\n  };\n  this.globalReversedOrder = function (reverseOrder) {\n    _reverseOrder = reverseOrder;\n    return this;\n  };\n  this.globalDisableCountDown = function (countDown) {\n    _disableCountDown = countDown;\n    return this;\n  };\n  this.messageVariableKey = function (messageVariableKey) {\n    _messageVariableKey = messageVariableKey;\n    return this;\n  };\n  this.globalInlineMessages = function (inline) {\n    _inline = inline;\n    return this;\n  };\n  this.globalPosition = function (position) {\n    _position = position;\n    return this;\n  };\n  this.messagesKey = function (messagesKey) {\n    _messagesKey = messagesKey;\n    return this;\n  };\n  this.messageTextKey = function (messageTextKey) {\n    _messageTextKey = messageTextKey;\n    return this;\n  };\n  this.messageTitleKey = function (messageTitleKey) {\n    _messageTitleKey = messageTitleKey;\n    return this;\n  };\n  this.messageSeverityKey = function (messageSeverityKey) {\n    _messageSeverityKey = messageSeverityKey;\n    return this;\n  };\n  this.onlyUniqueMessages = function (onlyUniqueMessages) {\n    _onlyUniqueMessages = onlyUniqueMessages;\n    return this;\n  };\n  this.serverMessagesInterceptor = [\n    '$q',\n    'growl',\n    function ($q, growl) {\n      function checkResponse(response) {\n        if (response !== undefined && response.data && response.data[_messagesKey] && response.data[_messagesKey].length > 0) {\n          growl.addServerMessages(response.data[_messagesKey]);\n        }\n      }\n      return {\n        'response': function (response) {\n          checkResponse(response);\n          return response;\n        },\n        'responseError': function (rejection) {\n          checkResponse(rejection);\n          return $q.reject(rejection);\n        }\n      };\n    }\n  ];\n  this.$get = [\n    '$rootScope',\n    '$interpolate',\n    '$sce',\n    '$filter',\n    '$timeout',\n    'growlMessages',\n    function ($rootScope, $interpolate, $sce, $filter, $timeout, growlMessages) {\n      var translate;\n      growlMessages.onlyUnique = _onlyUniqueMessages;\n      growlMessages.reverseOrder = _reverseOrder;\n      try {\n        translate = $filter('translate');\n      } catch (e) {\n      }\n      function broadcastMessage(message) {\n        if (translate && message.translateMessage) {\n          message.text = translate(message.text, message.variables) || message.text;\n          message.title = translate(message.title) || message.title;\n        } else {\n          var polation = $interpolate(message.text);\n          message.text = polation(message.variables);\n        }\n        var addedMessage = growlMessages.addMessage(message);\n        $rootScope.$broadcast('growlMessage', message);\n        $timeout(function () {\n        }, 0);\n        return addedMessage;\n      }\n      function sendMessage(text, config, severity) {\n        var _config = config || {}, message;\n        message = {\n          text: text,\n          title: _config.title,\n          severity: severity,\n          ttl: _config.ttl || _ttl[severity],\n          variables: _config.variables || {},\n          disableCloseButton: _config.disableCloseButton === undefined ? _disableCloseButton : _config.disableCloseButton,\n          disableIcons: _config.disableIcons === undefined ? _disableIcons : _config.disableIcons,\n          disableCountDown: _config.disableCountDown === undefined ? _disableCountDown : _config.disableCountDown,\n          position: _config.position || _position,\n          referenceId: _config.referenceId || _referenceId,\n          translateMessage: _config.translateMessage === undefined ? _translateMessages : _config.translateMessage,\n          destroy: function () {\n            growlMessages.deleteMessage(message);\n          },\n          setText: function (newText) {\n            message.text = $sce.trustAsHtml(String(newText));\n          },\n          onclose: _config.onclose,\n          onopen: _config.onopen\n        };\n        return broadcastMessage(message);\n      }\n      function warning(text, config) {\n        return sendMessage(text, config, 'warning');\n      }\n      function error(text, config) {\n        return sendMessage(text, config, 'error');\n      }\n      function info(text, config) {\n        return sendMessage(text, config, 'info');\n      }\n      function success(text, config) {\n        return sendMessage(text, config, 'success');\n      }\n      function general(text, config, severity) {\n        severity = (severity || 'error').toLowerCase();\n        return sendMessage(text, config, severity);\n      }\n      function addServerMessages(messages) {\n        if (!messages || !messages.length) {\n          return;\n        }\n        var i, message, severity, length;\n        length = messages.length;\n        for (i = 0; i < length; i++) {\n          message = messages[i];\n          if (message[_messageTextKey]) {\n            severity = (message[_messageSeverityKey] || 'error').toLowerCase();\n            var config = {};\n            config.variables = message[_messageVariableKey] || {};\n            config.title = message[_messageTitleKey];\n            sendMessage(message[_messageTextKey], config, severity);\n          }\n        }\n      }\n      function onlyUnique() {\n        return _onlyUniqueMessages;\n      }\n      function reverseOrder() {\n        return _reverseOrder;\n      }\n      function inlineMessages() {\n        return _inline;\n      }\n      function position() {\n        return _position;\n      }\n      return {\n        warning: warning,\n        error: error,\n        info: info,\n        success: success,\n        general: general,\n        addServerMessages: addServerMessages,\n        onlyUnique: onlyUnique,\n        reverseOrder: reverseOrder,\n        inlineMessages: inlineMessages,\n        position: position\n      };\n    }\n  ];\n});\nangular.module('angular-growl').service('growlMessages', [\n  '$sce',\n  '$timeout',\n  function ($sce, $timeout) {\n    'use strict';\n    var self = this;\n    this.directives = {};\n    var preloadDirectives = {};\n    function preLoad(referenceId) {\n      var directive;\n      if (preloadDirectives[referenceId]) {\n        directive = preloadDirectives[referenceId];\n      } else {\n        directive = preloadDirectives[referenceId] = { messages: [] };\n      }\n      return directive;\n    }\n    function directiveForRefId(referenceId) {\n      var refId = referenceId || 0;\n      return self.directives[refId] || preloadDirectives[refId];\n    }\n    this.initDirective = function (referenceId, limitMessages) {\n      if (preloadDirectives[referenceId]) {\n        this.directives[referenceId] = preloadDirectives[referenceId];\n        this.directives[referenceId].limitMessages = limitMessages;\n      } else {\n        this.directives[referenceId] = {\n          messages: [],\n          limitMessages: limitMessages\n        };\n      }\n      return this.directives[referenceId];\n    };\n    this.getAllMessages = function (referenceId) {\n      referenceId = referenceId || 0;\n      var messages;\n      if (directiveForRefId(referenceId)) {\n        messages = directiveForRefId(referenceId).messages;\n      } else {\n        messages = [];\n      }\n      return messages;\n    };\n    this.destroyAllMessages = function (referenceId) {\n      var messages = this.getAllMessages(referenceId);\n      for (var i = messages.length - 1; i >= 0; i--) {\n        messages[i].destroy();\n      }\n      var directive = directiveForRefId(referenceId);\n      if (directive) {\n        directive.messages = [];\n      }\n    };\n    this.addMessage = function (message) {\n      var directive, messages, found, msgText;\n      if (this.directives[message.referenceId]) {\n        directive = this.directives[message.referenceId];\n      } else {\n        directive = preLoad(message.referenceId);\n      }\n      messages = directive.messages;\n      if (this.onlyUnique) {\n        angular.forEach(messages, function (msg) {\n          msgText = $sce.getTrustedHtml(msg.text);\n          if (message.text === msgText && message.severity === msg.severity && message.title === msg.title) {\n            found = true;\n          }\n        });\n        if (found) {\n          return;\n        }\n      }\n      message.text = $sce.trustAsHtml(String(message.text));\n      if (message.ttl && message.ttl !== -1) {\n        message.countdown = message.ttl / 1000;\n        message.promises = [];\n        message.close = false;\n        message.countdownFunction = function () {\n          if (message.countdown > 1) {\n            message.countdown--;\n            message.promises.push($timeout(message.countdownFunction, 1000));\n          } else {\n            message.countdown--;\n          }\n        };\n      }\n      if (angular.isDefined(directive.limitMessages)) {\n        var diff = messages.length - (directive.limitMessages - 1);\n        if (diff > 0) {\n          messages.splice(directive.limitMessages - 1, diff);\n        }\n      }\n      if (this.reverseOrder) {\n        messages.unshift(message);\n      } else {\n        messages.push(message);\n      }\n      if (typeof message.onopen === 'function') {\n        message.onopen();\n      }\n      if (message.ttl && message.ttl !== -1) {\n        var self = this;\n        message.promises.push($timeout(angular.bind(this, function () {\n          self.deleteMessage(message);\n        }), message.ttl));\n        message.promises.push($timeout(message.countdownFunction, 1000));\n      }\n      return message;\n    };\n    this.deleteMessage = function (message) {\n      var messages = this.getAllMessages(message.referenceId), index = messages.indexOf(message);\n      if (index > -1) {\n        messages[index].close = true;\n        messages.splice(index, 1);\n      }\n      if (typeof message.onclose === 'function') {\n        message.onclose();\n      }\n    };\n  }\n]);","/**\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to\n * deal in the Software without restriction, including without limitation the\n * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n * sell copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n * IN THE SOFTWARE.\n */\n\n/**\n * Implementing Drag and Drop functionality in AngularJS is easier than ever.\n * Demo: http://codef0rmer.github.com/angular-dragdrop/\n *\n * @version 1.0.11\n *\n * (c) 2013 Amit Gharat a.k.a codef0rmer <amit.2006.it@gmail.com> - amitgharat.wordpress.com\n */\n\n(function (window, angular, $, undefined) {\n'use strict';\n\nvar jqyoui = angular.module('ngDragDrop', []).service('ngDragDropService', ['$timeout', '$parse', function($timeout, $parse) {\n    this.draggableScope = null;\n    this.droppableScope = null;\n\n    this.callEventCallback = function (scope, callbackName, event, ui) {\n      if (!callbackName) return;\n\n      var objExtract = extract(callbackName),\n          callback = objExtract.callback,\n          constructor = objExtract.constructor,\n          args = [event, ui].concat(objExtract.args);\n      \n      // call either $scoped method i.e. $scope.dropCallback or constructor's method i.e. this.dropCallback.\n      // Removing scope.$apply call that was performance intensive (especially onDrag) and does not require it\n      // always. So call it within the callback if needed.\n      return (scope[callback] || scope[constructor][callback]).apply(scope, args);\n      \n      function extract(callbackName) {\n        var atStartBracket = callbackName.indexOf('(') !== -1 ? callbackName.indexOf('(') : callbackName.length,\n            atEndBracket = callbackName.lastIndexOf(')') !== -1 ? callbackName.lastIndexOf(')') : callbackName.length,\n            args = callbackName.substring(atStartBracket + 1, atEndBracket), // matching function arguments inside brackets\n            constructor = callbackName.match(/^[^.]+.\\s*/)[0].slice(0, -1); // matching a string upto a dot to check ctrl as syntax\n            constructor = scope[constructor] && typeof scope[constructor].constructor === 'function' ? constructor : null;\n\n        return {\n          callback: callbackName.substring(constructor && constructor.length + 1 || 0, atStartBracket),\n          args: $.map(args && args.split(',') || [], function(item) { return [$parse(item)(scope)]; }),\n          constructor: constructor\n        }\n      }\n    };\n\n    this.invokeDrop = function ($draggable, $droppable, event, ui) {\n      var dragModel = '',\n        dropModel = '',\n        dragSettings = {},\n        dropSettings = {},\n        jqyoui_pos = null,\n        dragItem = {},\n        dropItem = {},\n        dragModelValue,\n        dropModelValue,\n        $droppableDraggable = null,\n        droppableScope = this.droppableScope,\n        draggableScope = this.draggableScope;\n\n      dragModel = $draggable.ngattr('ng-model');\n      dropModel = $droppable.ngattr('ng-model');\n      dragModelValue = draggableScope.$eval(dragModel);\n      dropModelValue = droppableScope.$eval(dropModel);\n\n      $droppableDraggable = $droppable.find('[jqyoui-draggable]:last,[data-jqyoui-draggable]:last');\n      dropSettings = droppableScope.$eval($droppable.attr('jqyoui-droppable') || $droppable.attr('data-jqyoui-droppable')) || [];\n      dragSettings = draggableScope.$eval($draggable.attr('jqyoui-draggable') || $draggable.attr('data-jqyoui-draggable')) || [];\n\n      // Helps pick up the right item\n      dragSettings.index = this.fixIndex(draggableScope, dragSettings, dragModelValue);\n      dropSettings.index = this.fixIndex(droppableScope, dropSettings, dropModelValue);\n\n      jqyoui_pos = angular.isArray(dragModelValue) ? dragSettings.index : null;\n      dragItem = angular.isArray(dragModelValue) ? dragModelValue[jqyoui_pos] : dragModelValue;\n\n      if (dragSettings.deepCopy) {\n        dragItem = angular.copy(dragItem);\n      }\n\n      if (angular.isArray(dropModelValue) && dropSettings && dropSettings.index !== undefined) {\n        dropItem = dropModelValue[dropSettings.index];\n      } else if (!angular.isArray(dropModelValue)) {\n        dropItem = dropModelValue;\n      } else {\n        dropItem = {};\n      }\n\n      if (dropSettings.deepCopy) {\n        dropItem = angular.copy(dropItem);\n      }\n\n      if (dragSettings.animate === true) {\n        this.move($draggable, $droppableDraggable.length > 0 ? $droppableDraggable : $droppable, null, 'fast', dropSettings, null);\n        this.move($droppableDraggable.length > 0 && !dropSettings.multiple ? $droppableDraggable : [], $draggable.parent('[jqyoui-droppable],[data-jqyoui-droppable]'), jqyoui.startXY, 'fast', dropSettings, angular.bind(this, function() {\n          $timeout(angular.bind(this, function() {\n            // Do not move this into move() to avoid flickering issue\n            $draggable.css({'position': 'relative', 'left': '', 'top': ''});\n            // Angular v1.2 uses ng-hide to hide an element not display property\n            // so we've to manually remove display:none set in this.move()\n            $droppableDraggable.css({'position': 'relative', 'left': '', 'top': '', 'display': $droppableDraggable.css('display') === 'none' ? '' : $droppableDraggable.css('display')});\n\n            this.mutateDraggable(draggableScope, dropSettings, dragSettings, dragModel, dropModel, dropItem, $draggable);\n            this.mutateDroppable(droppableScope, dropSettings, dragSettings, dropModel, dragItem, jqyoui_pos);\n            this.callEventCallback(droppableScope, dropSettings.onDrop, event, ui);\n          }));\n        }));\n      } else {\n        $timeout(angular.bind(this, function() {\n          this.mutateDraggable(draggableScope, dropSettings, dragSettings, dragModel, dropModel, dropItem, $draggable);\n          this.mutateDroppable(droppableScope, dropSettings, dragSettings, dropModel, dragItem, jqyoui_pos);\n          this.callEventCallback(droppableScope, dropSettings.onDrop, event, ui);\n        }));\n      }\n    };\n\n    this.move = function($fromEl, $toEl, toPos, duration, dropSettings, callback) {\n      if ($fromEl.length === 0) {\n        if (callback) {\n          window.setTimeout(function() {\n            callback();\n          }, 300);\n        }\n        return false;\n      }\n\n      var zIndex = $fromEl.css('z-index'),\n        fromPos = $fromEl[dropSettings.containment || 'offset'](),\n        displayProperty = $toEl.css('display'), // sometimes `display` is other than `block`\n        hadNgHideCls = $toEl.hasClass('ng-hide');\n\n      if (toPos === null && $toEl.length > 0) {\n        if (($toEl.attr('jqyoui-draggable') || $toEl.attr('data-jqyoui-draggable')) !== undefined && $toEl.ngattr('ng-model') !== undefined && $toEl.is(':visible') && dropSettings && dropSettings.multiple) {\n          toPos = $toEl[dropSettings.containment || 'offset']();\n          if (dropSettings.stack === false) {\n            toPos.left+= $toEl.outerWidth(true);\n          } else {\n            toPos.top+= $toEl.outerHeight(true);\n          }\n        } else {\n          // Angular v1.2 uses ng-hide to hide an element \n          // so we've to remove it in order to grab its position\n          if (hadNgHideCls) $toEl.removeClass('ng-hide');\n          toPos = $toEl.css({'visibility': 'hidden', 'display': 'block'})[dropSettings.containment || 'offset']();\n          $toEl.css({'visibility': '','display': displayProperty});\n        }\n      }\n\n      $fromEl.css({'position': 'absolute', 'z-index': 9999})\n        .css(fromPos)\n        .animate(toPos, duration, function() {\n          // Angular v1.2 uses ng-hide to hide an element\n          // and as we remove it above, we've to put it back to\n          // hide the element (while swapping) if it was hidden already\n          // because we remove the display:none in this.invokeDrop()\n          if (hadNgHideCls) $toEl.addClass('ng-hide');\n          $fromEl.css('z-index', zIndex);\n          if (callback) callback();\n        });\n    };\n\n    this.mutateDroppable = function(scope, dropSettings, dragSettings, dropModel, dragItem, jqyoui_pos) {\n      var dropModelValue = scope.$eval(dropModel);\n\n      scope.dndDragItem = dragItem;\n\n      if (angular.isArray(dropModelValue)) {\n        if (dropSettings && dropSettings.index >= 0) {\n          dropModelValue[dropSettings.index] = dragItem;\n        } else {\n          dropModelValue.push(dragItem);\n        }\n        if (dragSettings && dragSettings.placeholder === true) {\n          dropModelValue[dropModelValue.length - 1]['jqyoui_pos'] = jqyoui_pos;\n        }\n      } else {\n        $parse(dropModel + ' = dndDragItem')(scope);\n        if (dragSettings && dragSettings.placeholder === true) {\n          dropModelValue['jqyoui_pos'] = jqyoui_pos;\n        }\n      }\n    };\n\n    this.mutateDraggable = function(scope, dropSettings, dragSettings, dragModel, dropModel, dropItem, $draggable) {\n      var isEmpty = angular.equals(dropItem, {}) || !dropItem,\n        dragModelValue = scope.$eval(dragModel);\n\n      scope.dndDropItem = dropItem;\n\n      if (dragSettings && dragSettings.placeholder) {\n        if (dragSettings.placeholder != 'keep'){\n          if (angular.isArray(dragModelValue) && dragSettings.index !== undefined) {\n            dragModelValue[dragSettings.index] = dropItem;\n          } else {\n            $parse(dragModel + ' = dndDropItem')(scope);\n          }\n        }\n      } else {\n        if (angular.isArray(dragModelValue)) {\n          if (isEmpty) {\n            if (dragSettings && ( dragSettings.placeholder !== true && dragSettings.placeholder !== 'keep' )) {\n              dragModelValue.splice(dragSettings.index, 1);\n            }\n          } else {\n            dragModelValue[dragSettings.index] = dropItem;\n          }\n        } else {\n          // Fix: LIST(object) to LIST(array) - model does not get updated using just scope[dragModel] = {...}\n          // P.S.: Could not figure out why it happened\n          $parse(dragModel + ' = dndDropItem')(scope);\n          if (scope.$parent) {\n            $parse(dragModel + ' = dndDropItem')(scope.$parent);\n          }\n        }\n      }\n\n      $draggable.css({'z-index': '', 'left': '', 'top': ''});\n    };\n\n    this.fixIndex = function(scope, settings, modelValue) {\n      if (settings.applyFilter && angular.isArray(modelValue) && modelValue.length > 0) {\n        var dragModelValueFiltered = scope[settings.applyFilter](),\n            lookup = dragModelValueFiltered[settings.index],\n            actualIndex = undefined;\n\n        modelValue.forEach(function(item, i) {\n           if (angular.equals(item, lookup)) {\n             actualIndex = i;\n           }\n        });\n\n        return actualIndex;\n      }\n\n      return settings.index;\n    };\n  }]).directive('jqyouiDraggable', ['ngDragDropService', function(ngDragDropService) {\n    return {\n      require: '?jqyouiDroppable',\n      restrict: 'A',\n      link: function(scope, element, attrs) {\n        var dragSettings, jqyouiOptions, zIndex;\n        var updateDraggable = function(newValue, oldValue) {\n          if (newValue) {\n            dragSettings = scope.$eval(element.attr('jqyoui-draggable') || element.attr('data-jqyoui-draggable')) || {};\n            jqyouiOptions = scope.$eval(attrs.jqyouiOptions) || {};\n            element\n              .draggable({disabled: false})\n              .draggable(jqyouiOptions)\n              .draggable({\n                start: function(event, ui) {\n                  ngDragDropService.draggableScope = scope;\n                  zIndex = angular.element(jqyouiOptions.helper ? ui.helper : this).css('z-index');\n                  angular.element(jqyouiOptions.helper ? ui.helper : this).css('z-index', 9999);\n                  jqyoui.startXY = angular.element(this)[dragSettings.containment || 'offset']();\n                  ngDragDropService.callEventCallback(scope, dragSettings.onStart, event, ui);\n                },\n                stop: function(event, ui) {\n                  angular.element(jqyouiOptions.helper ? ui.helper : this).css('z-index', zIndex);\n                  ngDragDropService.callEventCallback(scope, dragSettings.onStop, event, ui);\n                },\n                drag: function(event, ui) {\n                  ngDragDropService.callEventCallback(scope, dragSettings.onDrag, event, ui);\n                }\n              });\n          } else {\n            element.draggable({disabled: true});\n          }\n        };\n        scope.$watch(function() { return scope.$eval(attrs.drag); }, updateDraggable);\n        updateDraggable();\n\n        element.on('$destroy', function() {\n          element.draggable({disabled: true}).draggable('destroy');\n        });\n      }\n    };\n  }]).directive('jqyouiDroppable', ['ngDragDropService', '$q', function(ngDragDropService, $q) {\n    return {\n      restrict: 'A',\n      priority: 1,\n      link: function(scope, element, attrs) {\n        var dropSettings;\n        var updateDroppable = function(newValue, oldValue) {\n          if (newValue) {\n            dropSettings = scope.$eval(angular.element(element).attr('jqyoui-droppable') || angular.element(element).attr('data-jqyoui-droppable')) || {};\n            element\n              .droppable({disabled: false})\n              .droppable(scope.$eval(attrs.jqyouiOptions) || {})\n              .droppable({\n                over: function(event, ui) {\n                  ngDragDropService.callEventCallback(scope, dropSettings.onOver, event, ui);\n                },\n                out: function(event, ui) {\n                  ngDragDropService.callEventCallback(scope, dropSettings.onOut, event, ui);\n                },\n                drop: function(event, ui) {\n                  var beforeDropPromise = null;\n\n                  if (dropSettings.beforeDrop) {\n                    beforeDropPromise = ngDragDropService.callEventCallback(scope, dropSettings.beforeDrop, event, ui);\n                  } else {\n                    beforeDropPromise = (function() {\n                      var deferred = $q.defer();\n                      deferred.resolve();\n                      return deferred.promise;\n                    })();\n                  }\n\n                  beforeDropPromise.then(angular.bind(this, function() {\n                    if (angular.element(ui.draggable).ngattr('ng-model') && attrs.ngModel) {\n                      ngDragDropService.droppableScope = scope;\n                      ngDragDropService.invokeDrop(angular.element(ui.draggable), angular.element(this), event, ui);\n                    } else {\n                      ngDragDropService.callEventCallback(scope, dropSettings.onDrop, event, ui);\n                    }\n                  }), function() {\n                    ui.draggable.css({left: '', top: ''});\n                  });\n                }\n              });\n          } else {\n            element.droppable({disabled: true});\n          }\n        };\n\n        scope.$watch(function() { return scope.$eval(attrs.drop); }, updateDroppable);\n        updateDroppable();\n\n        element.on('$destroy', function() {\n          element.droppable({disabled: true}).droppable('destroy');\n        });\n      }\n    };\n  }]);\n\n  angular.element.prototype.ngattr = function(name, value) {\n    var element = angular.element(this).get(0);\n\n    return element.getAttribute(name) || element.getAttribute('data-' + name);\n  };\n})(window, window.angular, window.jQuery);\n","/*\n * File: iframeSizer.contentWindow.js\n * Desc: Include this file in any page being loaded into an iframe\n *       to force the iframe to resize to the content size.\n * Requires: iframeResizer.js on host page.\n * Author: David J. Bradshaw - dave@bradshaw.net\n * Contributor: Jure Mav - jure.mav@gmail.com\n */\n\n;(function() {\n\t'use strict';\n\n\tvar\n\t\tautoResize            = true,\n\t\tbase                  = 10,\n\t\tbodyBackground        = '',\n\t\tbodyMargin            = 0,\n\t\tbodyMarginStr         = '',\n\t\tbodyPadding           = '',\n\t\tcalculateWidth        = false,\n\t\tdoubleEventList       = {'resize':1,'click':1},\n\t\teventCancelTimer      = 128,\n\t\theight                = 1,\n\t\tfirstRun              = true,\n\t\theightCalcModeDefault = 'offset',\n\t\theightCalcMode        = heightCalcModeDefault,\n\t\tinitLock              = true,\n\t\tinitMsg               = '',\n\t\tinPageLinks           = {},\n\t\tinterval              = 32,\n\t\tlogging               = false,\n\t\tmsgID                 = '[iFrameSizer]',  //Must match host page msg ID\n\t\tmsgIdLen              = msgID.length,\n\t\tmyID                  = '',\n\t\tpublicMethods         = false,\n\t\tresetRequiredMethods  = {max:1,scroll:1,bodyScroll:1,documentElementScroll:1},\n\t\ttargetOriginDefault   = '*',\n\t\ttarget                = window.parent,\n\t\ttolerance             = 0,\n\t\ttriggerLocked         = false,\n\t\ttriggerLockedTimer    = null,\n\t\twidth                 = 1;\n\n\n\tfunction addEventListener(el,evt,func){\n\t\tif ('addEventListener' in window){\n\t\t\tel.addEventListener(evt,func, false);\n\t\t} else if ('attachEvent' in window){ //IE\n\t\t\tel.attachEvent('on'+evt,func);\n\t\t}\n\t}\n\n\tfunction formatLogMsg(msg){\n\t\treturn msgID + '[' + myID + ']' + ' ' + msg;\n\t}\n\n\tfunction log(msg){\n\t\tif (logging && ('object' === typeof window.console)){\n\t\t\tconsole.log(formatLogMsg(msg));\n\t\t}\n\t}\n\n\tfunction warn(msg){\n\t\tif ('object' === typeof window.console){\n\t\t\tconsole.warn(formatLogMsg(msg));\n\t\t}\n\t}\n\n\n\tfunction init(){\n\t\tlog('Initialising iFrame');\n\t\treadData();\n\t\tsetMargin();\n\t\tsetBodyStyle('background',bodyBackground);\n\t\tsetBodyStyle('padding',bodyPadding);\n\t\tinjectClearFixIntoBodyElement();\n\t\tcheckHeightMode();\n\t\tstopInfiniteResizingOfIFrame();\n\t\tsetupPublicMethods();\n\t\tstartEventListeners();\n\t\tinPageLinks = setupInPageLinks();\n\t\tsendSize('init','Init message from host page');\n\t}\n\n\tfunction readData(){\n\n\t\tvar data = initMsg.substr(msgIdLen).split(':');\n\n\t\tfunction strBool(str){\n\t\t\treturn 'true' === str ? true : false;\n\t\t}\n\n\t\tmyID               = data[0];\n\t\tbodyMargin         = (undefined !== data[1]) ? Number(data[1])   : bodyMargin; //For V1 compatibility\n\t\tcalculateWidth     = (undefined !== data[2]) ? strBool(data[2])  : calculateWidth;\n\t\tlogging            = (undefined !== data[3]) ? strBool(data[3])  : logging;\n\t\tinterval           = (undefined !== data[4]) ? Number(data[4])   : interval;\n\t\tpublicMethods      = (undefined !== data[5]) ? strBool(data[5])  : publicMethods;\n\t\tautoResize         = (undefined !== data[6]) ? strBool(data[6])  : autoResize;\n\t\tbodyMarginStr      = data[7];\n\t\theightCalcMode     = (undefined !== data[8]) ? data[8]           : heightCalcMode;\n\t\tbodyBackground     = data[9];\n\t\tbodyPadding        = data[10];\n\t\ttolerance          = (undefined !== data[11]) ? Number(data[11]) : tolerance;\n\t\tinPageLinks.enable = (undefined !== data[12]) ? strBool(data[12]): false;\n\t}\n\n\tfunction chkCSS(attr,value){\n\t\tif (-1 !== value.indexOf('-')){\n\t\t\twarn('Negative CSS value ignored for '+attr);\n\t\t\tvalue='';\n\t\t}\n\t\treturn value;\n\t}\n\n\tfunction setBodyStyle(attr,value){\n\t\tif ((undefined !== value) && ('' !== value) && ('null' !== value)){\n\t\t\tdocument.body.style[attr] = value;\n\t\t\tlog('Body '+attr+' set to \"'+value+'\"');\n\t\t}\n\t}\n\n\tfunction setMargin(){\n\t\t//If called via V1 script, convert bodyMargin from int to str\n\t\tif (undefined === bodyMarginStr){\n\t\t\tbodyMarginStr = bodyMargin+'px';\n\t\t}\n\t\tchkCSS('margin',bodyMarginStr);\n\t\tsetBodyStyle('margin',bodyMarginStr);\n\t}\n\n\tfunction stopInfiniteResizingOfIFrame(){\n\t\tdocument.documentElement.style.height = '';\n\t\tdocument.body.style.height = '';\n\t\tlog('HTML & body height set to \"auto\"');\n\t}\n\n\n\tfunction addTriggerEvent(options){\n\t\tfunction addListener(eventName){\n\t\t\taddEventListener(window,eventName,function(e){\n\t\t\t\tsendSize(options.eventName,options.eventType);\n\t\t\t});\n\t\t}\n\n\t\tif(options.eventNames && Array.prototype.map){\n\t\t\toptions.eventName = options.eventNames[0];\n\t\t\toptions.eventNames.map(addListener);\n\t\t} else {\n\t\t\taddListener(options.eventName);\n\t\t}\n\n\t\tlog('Added event listener: ' + options.eventType);\n\t}\n\n\tfunction initEventListeners(){\n\t\taddTriggerEvent({ eventType: 'Animation Start',           eventNames: ['animationstart','webkitAnimationStart'] });\n\t\taddTriggerEvent({ eventType: 'Animation Iteration',       eventNames: ['animationiteration','webkitAnimationIteration'] });\n\t\taddTriggerEvent({ eventType: 'Animation End',             eventNames: ['animationend','webkitAnimationEnd'] });\n\t\taddTriggerEvent({ eventType: 'Device Orientation Change', eventName:  'deviceorientation' });\n\t\taddTriggerEvent({ eventType: 'Transition End',            eventNames: ['transitionend','webkitTransitionEnd','MSTransitionEnd','oTransitionEnd','otransitionend'] });\n\t\taddTriggerEvent({ eventType: 'Window Clicked',            eventName:  'click' });\n\t\t//addTriggerEvent({ eventType: 'Window Mouse Down',         eventName:  'mousedown' });\n\t\t//addTriggerEvent({ eventType: 'Window Mouse Up',           eventName:  'mouseup' });\n\t\taddTriggerEvent({ eventType: 'Window Resized',            eventName:  'resize' });\n\t}\n\n\tfunction checkHeightMode(){\n\t\tif (heightCalcModeDefault !== heightCalcMode){\n\t\t\tif (!(heightCalcMode in getHeight)){\n\t\t\t\twarn(heightCalcMode + ' is not a valid option for heightCalculationMethod.');\n\t\t\t\theightCalcMode='bodyScroll';\n\t\t\t}\n\t\t\tlog('Height calculation method set to \"'+heightCalcMode+'\"');\n\t\t}\n\t}\n\n\tfunction startEventListeners(){\n\t\tif ( true === autoResize ) {\n\t\t\tinitEventListeners();\n\t\t\tsetupMutationObserver();\n\t\t}\n\t\telse {\n\t\t\tlog('Auto Resize disabled');\n\t\t}\n\t}\n\n\tfunction injectClearFixIntoBodyElement(){\n\t\tvar clearFix = document.createElement('div');\n\t\tclearFix.style.clear = 'both';\n\t\tclearFix.style.display = 'block'; //Guard against this having been globally redefined in CSS.\n\t\tdocument.body.appendChild(clearFix);\n\t}\n\n\tfunction setupInPageLinks(){\n\n\t\tfunction getPagePosition (){\n\t\t\treturn {\n\t\t\t\tx: (window.pageXOffset !== undefined) ? window.pageXOffset : document.documentElement.scrollLeft,\n\t\t\t\ty: (window.pageYOffset !== undefined) ? window.pageYOffset : document.documentElement.scrollTop\n\t\t\t};\n\t\t}\n\n\t\tfunction getElementPosition(el){\n\t\t\tvar\n\t\t\t\telPosition   = el.getBoundingClientRect(),\n\t\t\t\tpagePosition = getPagePosition();\n\n\t\t\treturn {\n\t\t\t\tx: parseInt(elPosition.left,10) + parseInt(pagePosition.x,10),\n\t\t\t\ty: parseInt(elPosition.top,10)  + parseInt(pagePosition.y,10)\n\t\t\t};\n\t\t}\n\n\t\tfunction findTarget(location){\n\t\t\tvar hash = location.split(\"#\")[1] || \"\";\n\t\t\tvar hashData = decodeURIComponent(hash);\n\n\t\t\tfunction jumpToTarget(target){\n\t\t\t\tvar jumpPosition = getElementPosition(target);\n\n\t\t\t\tlog('Moving to in page link (#'+hash+') at x: '+jumpPosition.x+' y: '+jumpPosition.y);\n\t\t\t\tsendMsg(jumpPosition.y, jumpPosition.x, 'scrollToOffset'); // X&Y reversed at sendMsg uses height/width\n\t\t\t}\n\n\t\t\tvar target = document.getElementById(hashData) || document.getElementsByName(hashData)[0];\n\n\t\t\tif (target){\n\t\t\t\tjumpToTarget(target);\n\t\t\t} else {\n\t\t\t\tlog('In page link (#' + hash + ') not found in iFrame, so sending to parent');\n\t\t\t\tsendMsg(0,0,'inPageLink','#'+hash);\n\t\t\t}\n\t\t}\n\n\t\tfunction checkLocationHash(){\n\t\t\tif ('' !== location.hash && '#' !== location.hash){\n\t\t\t\tfindTarget(location.href);\n\t\t\t}\n\t\t}\n\n\t\tfunction bindAnchors(){\n\t\t\tfunction setupLink(el){\n\t\t\t\tfunction linkClicked(e){\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t/*jshint validthis:true */\n\t\t\t\t\tfindTarget(this.getAttribute('href'));\n\t\t\t\t}\n\n\t\t\t\tif ('#' !== el.getAttribute('href')){\n\t\t\t\t\taddEventListener(el,'click',linkClicked);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tArray.prototype.forEach.call( document.querySelectorAll( 'a[href^=\"#\"]' ), setupLink );\n\t\t}\n\n\t\tfunction bindLocationHash(){\n\t\t\taddEventListener(window,'hashchange',checkLocationHash);\n\t\t}\n\n\t\tfunction initCheck(){ //check if page loaded with location hash after init resize\n\t\t\tsetTimeout(checkLocationHash,eventCancelTimer);\n\t\t}\n\n\t\tfunction enableInPageLinks(){\n\t\t\tif(Array.prototype.forEach && document.querySelectorAll){\n\t\t\t\tlog('Setting up location.hash handlers');\n\t\t\t\tbindAnchors();\n\t\t\t\tbindLocationHash();\n\t\t\t\tinitCheck();\n\t\t\t} else {\n\t\t\t\twarn('In page linking not fully supported in this browser! (See README.md for IE8 workaround)');\n\t\t\t}\n\t\t}\n\n\t\tif(inPageLinks.enable){\n\t\t\tenableInPageLinks();\n\t\t} else {\n\t\t\tlog('In page linking not enabled');\n\t\t}\n\n\t\treturn {\n\t\t\tfindTarget:findTarget\n\t\t};\n\t}\n\n\tfunction setupPublicMethods(){\n\t\tif (publicMethods) {\n\t\t\tlog('Enable public methods');\n\n\t\t\twindow.parentIFrame = {\n\t\t\t\tclose: function closeF(){\n\t\t\t\t\tsendSize('close','parentIFrame.close()', 0, 0);\n\t\t\t\t},\n\t\t\t\tgetId: function getIdF(){\n\t\t\t\t\treturn myID;\n\t\t\t\t},\n\t\t\t\tmoveToAnchor: function moveToAnchorF(hash){\n\t\t\t\t\tinPageLinks.findTarget(hash);\n\t\t\t\t},\n\t\t\t\treset: function resetF(){\n\t\t\t\t\tresetIFrame('parentIFrame.reset');\n\t\t\t\t},\n\t\t\t\tscrollTo: function scrollToF(x,y){\n\t\t\t\t\tsendMsg(y,x,'scrollTo'); // X&Y reversed at sendMsg uses height/width\n\t\t\t\t},\n\t\t\t\tscrollToOffset: function scrollToF(x,y){\n\t\t\t\t\tsendMsg(y,x,'scrollToOffset'); // X&Y reversed at sendMsg uses height/width\n\t\t\t\t},\n\t\t\t\tsendMessage: function sendMessageF(msg,targetOrigin){\n\t\t\t\t\tsendMsg(0,0,'message',JSON.stringify(msg),targetOrigin);\n\t\t\t\t},\n\t\t\t\tsetHeightCalculationMethod: function setHeightCalculationMethodF(heightCalculationMethod){\n\t\t\t\t\theightCalcMode = heightCalculationMethod;\n\t\t\t\t\tcheckHeightMode();\n\t\t\t\t},\n\t\t\t\tsetTargetOrigin: function setTargetOriginF(targetOrigin){\n\t\t\t\t\tlog('Set targetOrigin: '+targetOrigin);\n\t\t\t\t\ttargetOriginDefault = targetOrigin;\n\t\t\t\t},\n\t\t\t\tsize: function sizeF(customHeight, customWidth){\n\t\t\t\t\tvar valString = ''+(customHeight?customHeight:'')+(customWidth?','+customWidth:'');\n\t\t\t\t\tlockTrigger();\n\t\t\t\t\tsendSize('size','parentIFrame.size('+valString+')', customHeight, customWidth);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction initInterval(){\n\t\tif ( 0 !== interval ){\n\t\t\tlog('setInterval: '+interval+'ms');\n\t\t\tsetInterval(function(){\n\t\t\t\tsendSize('interval','setInterval: '+interval);\n\t\t\t},Math.abs(interval));\n\t\t}\n\t}\n\n\tfunction setupInjectElementLoadListners(mutations){\n\t\tfunction addLoadListener(element){\n\t\t\tif (element.height === undefined || element.width === undefined || 0 === element.height || 0 === element.width){\n\t\t\t\tlog('Attach listerner to '+element.src);\n\t\t\t\taddEventListener(element,'load', function imageLoaded(){\n\t\t\t\t\tsendSize('imageLoad','Image loaded');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tmutations.forEach(function (mutation) {\n\t\t\tif (mutation.type === 'attributes' && mutation.attributeName === 'src'){\n\t\t\t\taddLoadListener(mutation.target);\n\t\t\t} else if (mutation.type === 'childList'){\n\t\t\t\tvar images = mutation.target.querySelectorAll('img');\n\t\t\t\tArray.prototype.forEach.call(images,function (image) {\n\t\t\t\t\taddLoadListener(image);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction setupMutationObserver(){\n\n\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\n\n\t\tfunction createMutationObserver(){\n\t\t\tvar\n\t\t\t\ttarget = document.querySelector('body'),\n\n\t\t\t\tconfig = {\n\t\t\t\t\tattributes            : true,\n\t\t\t\t\tattributeOldValue     : false,\n\t\t\t\t\tcharacterData         : true,\n\t\t\t\t\tcharacterDataOldValue : false,\n\t\t\t\t\tchildList             : true,\n\t\t\t\t\tsubtree               : true\n\t\t\t\t},\n\n\t\t\t\tobserver = new MutationObserver(function(mutations) {\n\t\t\t\t\tsendSize('mutationObserver','mutationObserver: ' + mutations[0].target + ' ' + mutations[0].type);\n\t\t\t\t\tsetupInjectElementLoadListners(mutations); //Deal with WebKit asyncing image loading when tags are injected into the page\n\t\t\t\t});\n\n\t\t\tlog('Enable MutationObserver');\n\t\t\tobserver.observe(target, config);\n\t\t}\n\n\t\tif (MutationObserver){\n\t\t\tif (0 > interval) {\n\t\t\t\tinitInterval();\n\t\t\t} else {\n\t\t\t\tcreateMutationObserver();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\twarn('MutationObserver not supported in this browser!');\n\t\t\tinitInterval();\n\t\t}\n\t}\n\n\n\t// document.documentElement.offsetHeight is not reliable, so\n\t// we have to jump through hoops to get a better value.\n\tfunction getBodyOffsetHeight(){\n\t\tfunction getComputedBodyStyle(prop) {\n\t\t\tfunction convertUnitsToPxForIE8(value) {\n\t\t\t\tvar PIXEL = /^\\d+(px)?$/i;\n\n\t\t\t\tif (PIXEL.test(value)) {\n\t\t\t\t\treturn parseInt(value,base);\n\t\t\t\t}\n\n\t\t\t\tvar\n\t\t\t\t\tstyle = el.style.left,\n\t\t\t\t\truntimeStyle = el.runtimeStyle.left;\n\n\t\t\t\tel.runtimeStyle.left = el.currentStyle.left;\n\t\t\t\tel.style.left = value || 0;\n\t\t\t\tvalue = el.style.pixelLeft;\n\t\t\t\tel.style.left = style;\n\t\t\t\tel.runtimeStyle.left = runtimeStyle;\n\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tvar\n\t\t\t\tel = document.body,\n\t\t\t\tretVal = 0;\n\n\t\t\tif (('defaultView' in document) && ('getComputedStyle' in document.defaultView)) {\n\t\t\t\tretVal = document.defaultView.getComputedStyle(el, null);\n\t\t\t\tretVal = (null !== retVal) ? retVal[prop] : 0;\n\t\t\t} else {//IE8\n\t\t\t\tretVal =  convertUnitsToPxForIE8(el.currentStyle[prop]);\n\t\t\t}\n\n\t\t\treturn parseInt(retVal,base);\n\t\t}\n\n\t\treturn  document.body.offsetHeight +\n\t\t\t\tgetComputedBodyStyle('marginTop') +\n\t\t\t\tgetComputedBodyStyle('marginBottom');\n\t}\n\n\tfunction getBodyScrollHeight(){\n\t\treturn document.body.scrollHeight;\n\t}\n\n\tfunction getDEOffsetHeight(){\n\t\treturn document.documentElement.offsetHeight;\n\t}\n\n\tfunction getDEScrollHeight(){\n\t\treturn document.documentElement.scrollHeight;\n\t}\n\n\t//From https://github.com/guardian/iframe-messenger\n\tfunction getLowestElementHeight() {\n\t\tvar\n\t\t\tallElements       = document.querySelectorAll('body *'),\n\t\t\tallElementsLength = allElements.length,\n\t\t\tmaxBottomVal      = 0,\n\t\t\ttimer             = new Date().getTime();\n\n\t\tfor (var i = 0; i < allElementsLength; i++) {\n\t\t\tif (allElements[i].getBoundingClientRect().bottom > maxBottomVal) {\n\t\t\t\tmaxBottomVal = allElements[i].getBoundingClientRect().bottom;\n\t\t\t}\n\t\t}\n\n\t\ttimer = new Date().getTime() - timer;\n\n\t\tlog('Parsed '+allElementsLength+' HTML elements');\n\t\tlog('LowestElement bottom position calculated in ' + timer + 'ms');\n\n\t\treturn maxBottomVal;\n\t}\n\n\tfunction getAllHeights(){\n\t\treturn [\n\t\t\tgetBodyOffsetHeight(),\n\t\t\tgetBodyScrollHeight(),\n\t\t\tgetDEOffsetHeight(),\n\t\t\tgetDEScrollHeight()\n\t\t];\n\t}\n\n\tfunction getMaxHeight(){\n\t\treturn Math.max.apply(null,getAllHeights());\n\t}\n\n\tfunction getMinHeight(){\n\t\treturn Math.min.apply(null,getAllHeights());\n\t}\n\n\tfunction getBestHeight(){\n\t\treturn Math.max(getBodyOffsetHeight(),getLowestElementHeight());\n\t}\n\n\tvar getHeight = {\n\t\toffset                : getBodyOffsetHeight, //Backward compatability\n\t\tbodyOffset            : getBodyOffsetHeight,\n\t\tbodyScroll            : getBodyScrollHeight,\n\t\tdocumentElementOffset : getDEOffsetHeight,\n\t\tscroll                : getDEScrollHeight, //Backward compatability\n\t\tdocumentElementScroll : getDEScrollHeight,\n\t\tmax                   : getMaxHeight,\n\t\tmin                   : getMinHeight,\n\t\tgrow                  : getMaxHeight,\n\t\tlowestElement         : getBestHeight\n\t};\n\n\tfunction getWidth(){\n\t\treturn Math.max(\n\t\t\tdocument.documentElement.scrollWidth,\n\t\t\tdocument.body.scrollWidth\n\t\t);\n\t}\n\n\tfunction sendSize(triggerEvent, triggerEventDesc, customHeight, customWidth){\n\n\t\tvar\tcurrentHeight,currentWidth;\n\n\t\tfunction recordTrigger(){\n\t\t\tif (!(triggerEvent in {'reset':1,'resetPage':1,'init':1})){\n\t\t\t\tlog( 'Trigger event: ' + triggerEventDesc );\n\t\t\t}\n\t\t}\n\n\t\tfunction resizeIFrame(){\n\t\t\theight = currentHeight;\n\t\t\twidth  = currentWidth;\n\n\t\t\tsendMsg(height,width,triggerEvent);\n\t\t}\n\n\t\tfunction isDoubleFiredEvent(){\n\t\t\treturn  triggerLocked && (triggerEvent in doubleEventList);\n\t\t}\n\n\t\tfunction isSizeChangeDetected(){\n\t\t\tfunction checkTolarance(a,b){\n\t\t\t\tvar retVal = Math.abs(a-b) <= tolerance;\n\t\t\t\treturn !retVal;\n\t\t\t}\n\n\t\t\tcurrentHeight = (undefined !== customHeight)  ? customHeight : getHeight[heightCalcMode]();\n\t\t\tcurrentWidth  = (undefined !== customWidth )  ? customWidth  : getWidth();\n\n\t\t\treturn\tcheckTolarance(height,currentHeight) ||\n\t\t\t\t\t(calculateWidth && checkTolarance(width,currentWidth));\n\n\t\t\t//return\t(height !== currentHeight) ||\n\t\t\t//\t\t(calculateWidth && width !== currentWidth);\n\t\t}\n\n\t\tfunction isForceResizableEvent(){\n\t\t\treturn !(triggerEvent in {'init':1,'interval':1,'size':1});\n\t\t}\n\n\t\tfunction isForceResizableHeightCalcMode(){\n\t\t\treturn (heightCalcMode in resetRequiredMethods);\n\t\t}\n\n\t\tfunction logIgnored(){\n\t\t\tlog('No change in size detected');\n\t\t}\n\n\t\tfunction checkDownSizing(){\n\t\t\tif (isForceResizableEvent() && isForceResizableHeightCalcMode()){\n\t\t\t\tresetIFrame(triggerEventDesc);\n\t\t\t} else if (!(triggerEvent in {'interval':1})){\n\t\t\t\trecordTrigger();\n\t\t\t\tlogIgnored();\n\t\t\t}\n\t\t}\n\n\t\tif (!isDoubleFiredEvent()){\n\t\t\tif (isSizeChangeDetected()){\n\t\t\t\trecordTrigger();\n\t\t\t\tlockTrigger();\n\t\t\t\tresizeIFrame();\n\t\t\t} else {\n\t\t\t\tcheckDownSizing();\n\t\t\t}\n\t\t} else {\n\t\t\tlog('Trigger event cancelled: '+triggerEvent);\n\t\t}\n\t}\n\n\tfunction lockTrigger(){\n\t\tif (!triggerLocked){\n\t\t\ttriggerLocked = true;\n\t\t\tlog('Trigger event lock on');\n\t\t}\n\t\tclearTimeout(triggerLockedTimer);\n\t\ttriggerLockedTimer = setTimeout(function(){\n\t\t\ttriggerLocked = false;\n\t\t\tlog('Trigger event lock off');\n\t\t\tlog('--');\n\t\t},eventCancelTimer);\n\t}\n\n\tfunction triggerReset(triggerEvent){\n\t\theight = getHeight[heightCalcMode]();\n\t\twidth  = getWidth();\n\n\t\tsendMsg(height,width,triggerEvent);\n\t}\n\n\tfunction resetIFrame(triggerEventDesc){\n\t\tvar hcm = heightCalcMode;\n\t\theightCalcMode = heightCalcModeDefault;\n\n\t\tlog('Reset trigger event: ' + triggerEventDesc);\n\t\tlockTrigger();\n\t\ttriggerReset('reset');\n\n\t\theightCalcMode = hcm;\n\t}\n\n\tfunction sendMsg(height,width,triggerEvent,msg,targetOrigin){\n\t\tfunction setTargetOrigin(){\n\t\t\tif (undefined === targetOrigin){\n\t\t\t\ttargetOrigin = targetOriginDefault;\n\t\t\t} else {\n\t\t\t\tlog('Message targetOrigin: '+targetOrigin);\n\t\t\t}\n\t\t}\n\n\t\tfunction sendToParent(){\n\t\t\tvar\n\t\t\t\tsize  = height + ':' + width,\n\t\t\t\tmessage = myID + ':' +  size + ':' + triggerEvent + (undefined !== msg ? ':' + msg : '');\n\n\t\t\tlog('Sending message to host page (' + message + ')');\n\t\t\ttarget.postMessage( msgID + message, targetOrigin);\n\t\t}\n\n\t\tsetTargetOrigin();\n\t\tsendToParent();\n\t}\n\n\tfunction receiver(event) {\n\t\tfunction isMessageForUs(){\n\t\t\treturn msgID === (''+event.data).substr(0,msgIdLen); //''+ Protects against non-string messages\n\t\t}\n\n\t\tfunction initFromParent(){\n\t\t\tinitMsg = event.data;\n\t\t\ttarget  = event.source;\n\n\t\t\tinit();\n\t\t\tfirstRun = false;\n\t\t\tsetTimeout(function(){ initLock = false;},eventCancelTimer);\n\t\t}\n\n\t\tfunction resetFromParent(){\n\t\t\tif (!initLock){\n\t\t\t\tlog('Page size reset by host page');\n\t\t\t\ttriggerReset('resetPage');\n\t\t\t} else {\n\t\t\t\tlog('Page reset ignored by init');\n\t\t\t}\n\t\t}\n\n\t\tfunction getMessageType(){\n\t\t\treturn event.data.split(']')[1];\n\t\t}\n\n\t\tfunction isMiddleTier(){\n\t\t\treturn ('iFrameResize' in window);\n\t\t}\n\n\t\tfunction isInitMsg(){\n\t\t\t//test if this message is from a child below us. This is an ugly test, however, updating\n\t\t\t//the message format would break backwards compatibity.\n\t\t\treturn event.data.split(':')[2] in {'true':1,'false':1};\n\t\t}\n\n\t\tif (isMessageForUs()){\n\t\t\tif (firstRun && isInitMsg()){ //Check msg ID\n\t\t\t\tinitFromParent();\n\t\t\t} else if ('reset' === getMessageType()){\n\t\t\t\tresetFromParent();\n\t\t\t} else if (event.data !== initMsg && !isMiddleTier()){\n\t\t\t\twarn('Unexpected message ('+event.data+')');\n\t\t\t}\n\t\t}\n\t}\n\n\taddEventListener(window, 'message', receiver);\n\n})();\n"],"sourceRoot":"/source/"}